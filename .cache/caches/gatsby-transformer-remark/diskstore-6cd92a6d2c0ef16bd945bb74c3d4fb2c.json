{"expireTime":9007200870884084000,"key":"transformer-remark-markdown-ast-089934f1f178bcf722d7b86ec0f7f508-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Installing the Database","position":{"start":{"line":3,"column":4,"offset":7},"end":{"line":3,"column":27,"offset":30},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":4},"end":{"line":3,"column":27,"offset":30},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Several ","position":{"start":{"line":5,"column":1,"offset":34},"end":{"line":5,"column":9,"offset":42},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/requirements/requirements/","children":[{"type":"text","value":"database engines","position":{"start":{"line":5,"column":10,"offset":43},"end":{"line":5,"column":26,"offset":59},"indent":[]}}],"position":{"start":{"line":5,"column":9,"offset":42},"end":{"line":5,"column":56,"offset":89},"indent":[]}},{"type":"text","value":" are supported. Be sure to follow the requirements listed for your database, they are real requirements not recommendations.","position":{"start":{"line":5,"column":56,"offset":89},"end":{"line":5,"column":180,"offset":213},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":34},"end":{"line":5,"column":180,"offset":213},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create an empty schema and a ","position":{"start":{"line":7,"column":1,"offset":217},"end":{"line":7,"column":30,"offset":246},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":7,"column":30,"offset":246},"end":{"line":7,"column":41,"offset":257},"indent":[]}},{"type":"text","value":" user. Grant this ","position":{"start":{"line":7,"column":41,"offset":257},"end":{"line":7,"column":59,"offset":275},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":7,"column":59,"offset":275},"end":{"line":7,"column":70,"offset":286},"indent":[]}},{"type":"text","value":" user permissions to ","position":{"start":{"line":7,"column":70,"offset":286},"end":{"line":7,"column":91,"offset":307},"indent":[]}},{"type":"inlineCode","value":"create","position":{"start":{"line":7,"column":91,"offset":307},"end":{"line":7,"column":99,"offset":315},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":7,"column":99,"offset":315},"end":{"line":7,"column":101,"offset":317},"indent":[]}},{"type":"inlineCode","value":"update","position":{"start":{"line":7,"column":101,"offset":317},"end":{"line":7,"column":109,"offset":325},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":7,"column":109,"offset":325},"end":{"line":7,"column":115,"offset":331},"indent":[]}},{"type":"inlineCode","value":"delete","position":{"start":{"line":7,"column":115,"offset":331},"end":{"line":7,"column":123,"offset":339},"indent":[]}},{"type":"text","value":" objects for this schema.","position":{"start":{"line":7,"column":123,"offset":339},"end":{"line":7,"column":148,"offset":364},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":217},"end":{"line":7,"column":148,"offset":364},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Microsoft SQL Server","position":{"start":{"line":9,"column":5,"offset":372},"end":{"line":9,"column":25,"offset":392},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":368},"end":{"line":9,"column":25,"offset":392},"indent":[]}},{"type":"warningCustomBlock","children":[{"type":"warningCustomBlockBody","data":{"hName":"div","hProperties":{"className":"custom-block-body"}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Collation ","position":{"start":{"line":11,"column":1,"offset":396},"end":{"line":11,"column":11,"offset":406},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"MUST","position":{"start":{"line":11,"column":13,"offset":408},"end":{"line":11,"column":17,"offset":412},"indent":[]}}],"position":{"start":{"line":11,"column":11,"offset":406},"end":{"line":11,"column":19,"offset":414},"indent":[]}},{"type":"text","value":" be case-sensitive (CS) and accent-sensitive (AS).","position":{"start":{"line":11,"column":19,"offset":414},"end":{"line":11,"column":69,"offset":464},"indent":[]}},{"type":"break","position":{"start":{"line":11,"column":69,"offset":464},"end":{"line":12,"column":1,"offset":409},"indent":[1]}},{"type":"inlineCode","value":"READ_COMMITED_SNAPSHOT","position":{"start":{"line":12,"column":1,"offset":409},"end":{"line":12,"column":25,"offset":433},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":12,"column":25,"offset":433},"end":{"line":12,"column":26,"offset":434},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"MUST","position":{"start":{"line":12,"column":28,"offset":436},"end":{"line":12,"column":32,"offset":440},"indent":[]}}],"position":{"start":{"line":12,"column":26,"offset":434},"end":{"line":12,"column":34,"offset":442},"indent":[]}},{"type":"text","value":" be set on the SonarQube database.","position":{"start":{"line":12,"column":34,"offset":442},"end":{"line":12,"column":68,"offset":476},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":396},"end":{"line":12,"column":68,"offset":476},"indent":[1]}}]}],"data":{"hName":"div","hProperties":{"className":["custom-block","alert","alert-warning"]}},"position":{"start":{"line":11,"column":1,"offset":396},"end":{"line":13,"column":70,"offset":552},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"MS SQL database's shared lock strategy may impact SonarQube runtime. Making sure that ","position":{"start":{"line":15,"column":1,"offset":556},"end":{"line":15,"column":87,"offset":642},"indent":[]}},{"type":"inlineCode","value":"is_read_committed_snapshot_on","position":{"start":{"line":15,"column":87,"offset":642},"end":{"line":15,"column":118,"offset":673},"indent":[]}},{"type":"text","value":" is set to ","position":{"start":{"line":15,"column":118,"offset":673},"end":{"line":15,"column":129,"offset":684},"indent":[]}},{"type":"inlineCode","value":"true","position":{"start":{"line":15,"column":129,"offset":684},"end":{"line":15,"column":135,"offset":690},"indent":[]}},{"type":"text","value":" to prevent SonarQube from facing potential deadlocks under heavy loads. ","position":{"start":{"line":15,"column":135,"offset":690},"end":{"line":15,"column":208,"offset":763},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":556},"end":{"line":15,"column":208,"offset":763},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Example of query to check ","position":{"start":{"line":17,"column":1,"offset":767},"end":{"line":17,"column":27,"offset":793},"indent":[]}},{"type":"inlineCode","value":"is_read_committed_snapshot_on","position":{"start":{"line":17,"column":27,"offset":793},"end":{"line":17,"column":58,"offset":824},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":17,"column":58,"offset":824},"end":{"line":17,"column":59,"offset":825},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":767},"end":{"line":17,"column":59,"offset":825},"indent":[]}},{"type":"code","lang":null,"value":"SELECT is_read_committed_snapshot_on FROM sys.databases WHERE name='YourSonarQubeDatabase';","position":{"start":{"line":18,"column":1,"offset":827},"end":{"line":20,"column":4,"offset":928},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example of query to update ","position":{"start":{"line":21,"column":1,"offset":930},"end":{"line":21,"column":28,"offset":957},"indent":[]}},{"type":"inlineCode","value":"is_read_committed_snapshot_on","position":{"start":{"line":21,"column":28,"offset":957},"end":{"line":21,"column":59,"offset":988},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":21,"column":59,"offset":988},"end":{"line":21,"column":60,"offset":989},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":930},"end":{"line":21,"column":60,"offset":989},"indent":[]}},{"type":"code","lang":null,"value":"ALTER DATABASE YourSonarQubeDatabase SET READ_COMMITTED_SNAPSHOT ON WITH ROLLBACK IMMEDIATE;","position":{"start":{"line":22,"column":1,"offset":991},"end":{"line":24,"column":4,"offset":1093},"indent":[1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Integrated Security","position":{"start":{"line":25,"column":6,"offset":1100},"end":{"line":25,"column":25,"offset":1119},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1095},"end":{"line":25,"column":25,"offset":1119},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To use integrated security: ","position":{"start":{"line":27,"column":1,"offset":1123},"end":{"line":27,"column":29,"offset":1151},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1123},"end":{"line":27,"column":29,"offset":1151},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":true,"children":[{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":29,"column":4,"offset":1158},"end":{"line":29,"column":17,"offset":1171},"indent":[]}},{"type":"link","title":null,"url":"https://www.microsoft.com/en-us/download/details.aspx?id=57782","children":[{"type":"text","value":"Microsoft SQL JDBC Driver 7.2.2 package","position":{"start":{"line":29,"column":18,"offset":1172},"end":{"line":29,"column":57,"offset":1211},"indent":[]}}],"position":{"start":{"line":29,"column":17,"offset":1171},"end":{"line":29,"column":122,"offset":1276},"indent":[]}},{"type":"text","value":" and copy the 64-bit version of ","position":{"start":{"line":29,"column":122,"offset":1276},"end":{"line":29,"column":154,"offset":1308},"indent":[]}},{"type":"inlineCode","value":"sqljdbc_auth.dll","position":{"start":{"line":29,"column":154,"offset":1308},"end":{"line":29,"column":172,"offset":1326},"indent":[]}},{"type":"text","value":" to any folder in your path. ","position":{"start":{"line":29,"column":172,"offset":1326},"end":{"line":29,"column":201,"offset":1355},"indent":[]}}],"position":{"start":{"line":29,"column":4,"offset":1158},"end":{"line":29,"column":201,"offset":1355},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1155},"end":{"line":30,"column":1,"offset":1357},"indent":[1]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"If you're running SonarQube as a Windows service,","position":{"start":{"line":31,"column":6,"offset":1364},"end":{"line":31,"column":55,"offset":1413},"indent":[]}}],"position":{"start":{"line":31,"column":4,"offset":1362},"end":{"line":31,"column":57,"offset":1415},"indent":[]}},{"type":"text","value":" make sure the Windows account under which the service is running has permission to connect your SQL server. The account should have ","position":{"start":{"line":31,"column":57,"offset":1415},"end":{"line":31,"column":190,"offset":1548},"indent":[]}},{"type":"inlineCode","value":"db_owner","position":{"start":{"line":31,"column":190,"offset":1548},"end":{"line":31,"column":200,"offset":1558},"indent":[]}},{"type":"text","value":" database role membership. ","position":{"start":{"line":31,"column":200,"offset":1558},"end":{"line":31,"column":227,"offset":1585},"indent":[]}}],"position":{"start":{"line":31,"column":4,"offset":1362},"end":{"line":31,"column":227,"offset":1585},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"If you're running the SonarQube server from a command prompt,","position":{"start":{"line":33,"column":4,"offset":1592},"end":{"line":33,"column":65,"offset":1653},"indent":[]}}],"position":{"start":{"line":33,"column":2,"offset":1590},"end":{"line":33,"column":67,"offset":1655},"indent":[]}},{"type":"text","value":" the user under which the command prompt is running should have ","position":{"start":{"line":33,"column":67,"offset":1655},"end":{"line":33,"column":131,"offset":1719},"indent":[]}},{"type":"inlineCode","value":"db_owner","position":{"start":{"line":33,"column":131,"offset":1719},"end":{"line":33,"column":141,"offset":1729},"indent":[]}},{"type":"text","value":" database role membership. ","position":{"start":{"line":33,"column":141,"offset":1729},"end":{"line":33,"column":168,"offset":1756},"indent":[]}}],"position":{"start":{"line":33,"column":2,"offset":1590},"end":{"line":33,"column":168,"offset":1756},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1359},"end":{"line":34,"column":1,"offset":1758},"indent":[1,1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Ensure that ","position":{"start":{"line":35,"column":4,"offset":1763},"end":{"line":35,"column":16,"offset":1775},"indent":[]}},{"type":"inlineCode","value":"sonar.jdbc.username","position":{"start":{"line":35,"column":16,"offset":1775},"end":{"line":35,"column":37,"offset":1796},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":35,"column":37,"offset":1796},"end":{"line":35,"column":41,"offset":1800},"indent":[]}},{"type":"inlineCode","value":"sonar.jdbc.password","position":{"start":{"line":35,"column":41,"offset":1800},"end":{"line":35,"column":62,"offset":1821},"indent":[]}},{"type":"text","value":" properties are commented out or SonarQube will use SQL authentication.","position":{"start":{"line":35,"column":62,"offset":1821},"end":{"line":35,"column":133,"offset":1892},"indent":[]}}],"position":{"start":{"line":35,"column":4,"offset":1763},"end":{"line":35,"column":133,"offset":1892},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1760},"end":{"line":35,"column":133,"offset":1892},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1155},"end":{"line":35,"column":133,"offset":1892},"indent":[1,1,1,1,1,1]}},{"type":"code","lang":null,"value":"sonar.jdbc.url=jdbc:sqlserver://localhost;databaseName=sonar;integratedSecurity=true","position":{"start":{"line":37,"column":1,"offset":1896},"end":{"line":39,"column":4,"offset":1990},"indent":[1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"SQL Authentication","position":{"start":{"line":41,"column":6,"offset":1999},"end":{"line":41,"column":24,"offset":2017},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1994},"end":{"line":41,"column":24,"offset":2017},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To use SQL Authentication, use the following connection string. Also ensure that ","position":{"start":{"line":43,"column":1,"offset":2021},"end":{"line":43,"column":82,"offset":2102},"indent":[]}},{"type":"inlineCode","value":"sonar.jdbc.username","position":{"start":{"line":43,"column":82,"offset":2102},"end":{"line":43,"column":103,"offset":2123},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":43,"column":103,"offset":2123},"end":{"line":43,"column":108,"offset":2128},"indent":[]}},{"type":"inlineCode","value":"sonar.jdbc.password","position":{"start":{"line":43,"column":108,"offset":2128},"end":{"line":43,"column":129,"offset":2149},"indent":[]}},{"type":"text","value":" are set appropriately:","position":{"start":{"line":43,"column":129,"offset":2149},"end":{"line":43,"column":152,"offset":2172},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2021},"end":{"line":43,"column":152,"offset":2172},"indent":[]}},{"type":"code","lang":null,"value":"sonar.jdbc.url=jdbc:sqlserver://localhost;databaseName=sonar\nsonar.jdbc.username=sonarqube\nsonar.jdbc.password=mypassword","position":{"start":{"line":45,"column":1,"offset":2176},"end":{"line":49,"column":4,"offset":2309},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Oracle","position":{"start":{"line":51,"column":5,"offset":2317},"end":{"line":51,"column":11,"offset":2323},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2313},"end":{"line":51,"column":11,"offset":2323},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If there are two SonarQube schemas on the same Oracle instance, especially if they are for two different versions, SonarQube gets confused and picks the first it finds. To avoid this issue:","position":{"start":{"line":53,"column":1,"offset":2327},"end":{"line":53,"column":190,"offset":2516},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2327},"end":{"line":53,"column":190,"offset":2516},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Either privileges associated to the SonarQube Oracle user should be decreased","position":{"start":{"line":55,"column":3,"offset":2522},"end":{"line":55,"column":80,"offset":2599},"indent":[]}}],"position":{"start":{"line":55,"column":3,"offset":2522},"end":{"line":55,"column":80,"offset":2599},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2520},"end":{"line":55,"column":80,"offset":2599},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Or a trigger should be defined on the Oracle side to automatically alter the SonarQube Oracle user session when establishing a new connection:","position":{"start":{"line":56,"column":3,"offset":2603},"end":{"line":56,"column":145,"offset":2745},"indent":[]}}],"position":{"start":{"line":56,"column":3,"offset":2603},"end":{"line":56,"column":145,"offset":2745},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2601},"end":{"line":56,"column":145,"offset":2745},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2520},"end":{"line":56,"column":145,"offset":2745},"indent":[1]}},{"type":"warningCustomBlock","children":[{"type":"warningCustomBlockBody","data":{"hName":"div","hProperties":{"className":"custom-block-body"}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Oracle JDBC driver versions 12.1.0.1 and 12.1.0.2 have major bugs, and are not recommended for use with the SonarQube (","position":{"start":{"line":58,"column":1,"offset":2749},"end":{"line":58,"column":120,"offset":2868},"indent":[]}},{"type":"link","title":null,"url":"https://groups.google.com/forum/#!msg/sonarqube/Ahqt1iarqJg/u0BVRJZnBQAJ","children":[{"type":"text","value":"see more details","position":{"start":{"line":58,"column":121,"offset":2869},"end":{"line":58,"column":137,"offset":2885},"indent":[]}}],"position":{"start":{"line":58,"column":120,"offset":2868},"end":{"line":58,"column":212,"offset":2960},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":58,"column":212,"offset":2960},"end":{"line":58,"column":214,"offset":2962},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2749},"end":{"line":58,"column":214,"offset":2962},"indent":[]}}]}],"data":{"hName":"div","hProperties":{"className":["custom-block","alert","alert-warning"]}},"position":{"start":{"line":58,"column":1,"offset":2749},"end":{"line":59,"column":216,"offset":2977},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"PostgreSQL","position":{"start":{"line":61,"column":5,"offset":2985},"end":{"line":61,"column":15,"offset":2995},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":2981},"end":{"line":61,"column":15,"offset":2995},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you want to use a custom schema and not the default \"public\" one, the PostgreSQL ","position":{"start":{"line":63,"column":1,"offset":2999},"end":{"line":63,"column":85,"offset":3083},"indent":[]}},{"type":"inlineCode","value":"search_path","position":{"start":{"line":63,"column":85,"offset":3083},"end":{"line":63,"column":98,"offset":3096},"indent":[]}},{"type":"text","value":" property must be set:","position":{"start":{"line":63,"column":98,"offset":3096},"end":{"line":63,"column":120,"offset":3118},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2999},"end":{"line":63,"column":120,"offset":3118},"indent":[]}},{"type":"code","lang":null,"value":"ALTER USER mySonarUser SET search_path to mySonarQubeSchema","position":{"start":{"line":65,"column":1,"offset":3122},"end":{"line":67,"column":4,"offset":3191},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Installing the Web Server","position":{"start":{"line":69,"column":4,"offset":3198},"end":{"line":69,"column":29,"offset":3223},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":3195},"end":{"line":69,"column":29,"offset":3223},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"First, check the ","position":{"start":{"line":71,"column":1,"offset":3227},"end":{"line":71,"column":18,"offset":3244},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/requirements/requirements/","children":[{"type":"text","value":"requirements","position":{"start":{"line":71,"column":19,"offset":3245},"end":{"line":71,"column":31,"offset":3257},"indent":[]}}],"position":{"start":{"line":71,"column":18,"offset":3244},"end":{"line":71,"column":61,"offset":3287},"indent":[]}},{"type":"text","value":". Then download and unzip the ","position":{"start":{"line":71,"column":61,"offset":3287},"end":{"line":71,"column":91,"offset":3317},"indent":[]}},{"type":"link","title":null,"url":"http://www.sonarqube.org/downloads/","children":[{"type":"text","value":"distribution","position":{"start":{"line":71,"column":92,"offset":3318},"end":{"line":71,"column":104,"offset":3330},"indent":[]}}],"position":{"start":{"line":71,"column":91,"offset":3317},"end":{"line":71,"column":142,"offset":3368},"indent":[]}},{"type":"text","value":" (do not unzip into a directory starting with a digit). ","position":{"start":{"line":71,"column":142,"offset":3368},"end":{"line":71,"column":198,"offset":3424},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":3227},"end":{"line":71,"column":198,"offset":3424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"SonarQube cannot be run as ","position":{"start":{"line":73,"column":1,"offset":3428},"end":{"line":73,"column":28,"offset":3455},"indent":[]}},{"type":"inlineCode","value":"root","position":{"start":{"line":73,"column":28,"offset":3455},"end":{"line":73,"column":34,"offset":3461},"indent":[]}},{"type":"text","value":" on Unix-based systems, so create a dedicated user account to use for SonarQube if necessary.","position":{"start":{"line":73,"column":34,"offset":3461},"end":{"line":73,"column":127,"offset":3554},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3428},"end":{"line":73,"column":127,"offset":3554},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME","position":{"start":{"line":75,"column":2,"offset":3559},"end":{"line":75,"column":17,"offset":3574},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":3558},"end":{"line":75,"column":18,"offset":3575},"indent":[]}},{"type":"text","value":" (below) refers to the path to the directory where the SonarQube distribution has been unzipped.","position":{"start":{"line":75,"column":18,"offset":3575},"end":{"line":75,"column":114,"offset":3671},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":3558},"end":{"line":75,"column":114,"offset":3671},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Setting the Access to the Database","position":{"start":{"line":77,"column":5,"offset":3679},"end":{"line":77,"column":39,"offset":3713},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":3675},"end":{"line":77,"column":39,"offset":3713},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Edit ","position":{"start":{"line":79,"column":1,"offset":3717},"end":{"line":79,"column":6,"offset":3722},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/conf/sonar.properties","position":{"start":{"line":79,"column":7,"offset":3723},"end":{"line":79,"column":44,"offset":3760},"indent":[]}}],"position":{"start":{"line":79,"column":6,"offset":3722},"end":{"line":79,"column":45,"offset":3761},"indent":[]}},{"type":"text","value":" to configure the database settings. Templates are available for every supported database. Just uncomment and configure the template you need and comment out the lines dedicated to H2:","position":{"start":{"line":79,"column":45,"offset":3761},"end":{"line":79,"column":229,"offset":3945},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":3717},"end":{"line":79,"column":229,"offset":3945},"indent":[]}},{"type":"code","lang":null,"value":"Example for PostgreSQL\nsonar.jdbc.username=sonarqube\nsonar.jdbc.password=mypassword\nsonar.jdbc.url=jdbc:postgresql://localhost/sonarqube","position":{"start":{"line":81,"column":1,"offset":3949},"end":{"line":86,"column":4,"offset":4098},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Adding the JDBC Driver","position":{"start":{"line":88,"column":5,"offset":4106},"end":{"line":88,"column":27,"offset":4128},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":4102},"end":{"line":88,"column":27,"offset":4128},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Drivers for the supported databases (except Oracle) are already provided. Do not replace the provided drivers; they are the only ones supported.","position":{"start":{"line":90,"column":1,"offset":4132},"end":{"line":90,"column":145,"offset":4276},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":4132},"end":{"line":90,"column":145,"offset":4276},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For Oracle, copy the JDBC driver into ","position":{"start":{"line":92,"column":1,"offset":4280},"end":{"line":92,"column":39,"offset":4318},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/extensions/jdbc-driver/oracle","position":{"start":{"line":92,"column":40,"offset":4319},"end":{"line":92,"column":85,"offset":4364},"indent":[]}}],"position":{"start":{"line":92,"column":39,"offset":4318},"end":{"line":92,"column":86,"offset":4365},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":92,"column":86,"offset":4365},"end":{"line":92,"column":87,"offset":4366},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":4280},"end":{"line":92,"column":87,"offset":4366},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Configuring the Elasticsearch storage path","position":{"start":{"line":94,"column":5,"offset":4374},"end":{"line":94,"column":47,"offset":4416},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":4370},"end":{"line":94,"column":47,"offset":4416},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default, Elasticsearch data is stored in ","position":{"start":{"line":96,"column":1,"offset":4420},"end":{"line":96,"column":45,"offset":4464},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/data","position":{"start":{"line":96,"column":46,"offset":4465},"end":{"line":96,"column":66,"offset":4485},"indent":[]}}],"position":{"start":{"line":96,"column":45,"offset":4464},"end":{"line":96,"column":67,"offset":4486},"indent":[]}},{"type":"text","value":", but this is not recommended for production instances. Instead, you should store this data elsewhere, ideally in a dedicated volume with fast I/O. Beyond maintaining acceptable performance, doing so will also ease the upgrade of SonarQube.","position":{"start":{"line":96,"column":67,"offset":4486},"end":{"line":96,"column":307,"offset":4726},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":4420},"end":{"line":96,"column":307,"offset":4726},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Edit ","position":{"start":{"line":98,"column":1,"offset":4730},"end":{"line":98,"column":6,"offset":4735},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/conf/sonar.properties","position":{"start":{"line":98,"column":7,"offset":4736},"end":{"line":98,"column":44,"offset":4773},"indent":[]}}],"position":{"start":{"line":98,"column":6,"offset":4735},"end":{"line":98,"column":45,"offset":4774},"indent":[]}},{"type":"text","value":" to configure the following settings:","position":{"start":{"line":98,"column":45,"offset":4774},"end":{"line":98,"column":82,"offset":4811},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":4730},"end":{"line":98,"column":82,"offset":4811},"indent":[]}},{"type":"code","lang":null,"value":"sonar.path.data=/var/sonarqube/data\nsonar.path.temp=/var/sonarqube/temp","position":{"start":{"line":100,"column":1,"offset":4815},"end":{"line":103,"column":4,"offset":4897},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The user used to launch SonarQube must have read and write access to those directories.","position":{"start":{"line":105,"column":1,"offset":4901},"end":{"line":105,"column":88,"offset":4988},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":4901},"end":{"line":105,"column":88,"offset":4988},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Starting the Web Server","position":{"start":{"line":107,"column":5,"offset":4996},"end":{"line":107,"column":28,"offset":5019},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":4992},"end":{"line":107,"column":28,"offset":5019},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The default port is \"9000\" and the context path is \"/\". These values can be changed in ","position":{"start":{"line":109,"column":1,"offset":5023},"end":{"line":109,"column":88,"offset":5110},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/conf/sonar.properties","position":{"start":{"line":109,"column":89,"offset":5111},"end":{"line":109,"column":126,"offset":5148},"indent":[]}}],"position":{"start":{"line":109,"column":88,"offset":5110},"end":{"line":109,"column":127,"offset":5149},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":109,"column":127,"offset":5149},"end":{"line":109,"column":128,"offset":5150},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":5023},"end":{"line":109,"column":128,"offset":5150},"indent":[]}},{"type":"code","lang":null,"value":"sonar.web.host=192.0.0.1\nsonar.web.port=80\nsonar.web.context=/sonarqube","position":{"start":{"line":111,"column":1,"offset":5154},"end":{"line":115,"column":4,"offset":5237},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Execute the following script to start the server:","position":{"start":{"line":117,"column":1,"offset":5241},"end":{"line":117,"column":50,"offset":5290},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":5241},"end":{"line":117,"column":50,"offset":5290},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"On Linux/Mac OS: bin/","position":{"start":{"line":119,"column":3,"offset":5296},"end":{"line":119,"column":24,"offset":5317},"indent":[]}},{"type":"html","value":"<YOUR OS>","position":{"start":{"line":119,"column":24,"offset":5317},"end":{"line":119,"column":33,"offset":5326},"indent":[]}},{"type":"text","value":"/sonar.sh start","position":{"start":{"line":119,"column":33,"offset":5326},"end":{"line":119,"column":48,"offset":5341},"indent":[]}}],"position":{"start":{"line":119,"column":3,"offset":5296},"end":{"line":119,"column":48,"offset":5341},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":5294},"end":{"line":119,"column":48,"offset":5341},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"On Windows: bin/windows-x86-XX/StartSonar.bat","position":{"start":{"line":120,"column":3,"offset":5345},"end":{"line":120,"column":48,"offset":5390},"indent":[]}}],"position":{"start":{"line":120,"column":3,"offset":5345},"end":{"line":120,"column":48,"offset":5390},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":5343},"end":{"line":120,"column":48,"offset":5390},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":5294},"end":{"line":120,"column":48,"offset":5390},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"You can now browse SonarQube at ","position":{"start":{"line":122,"column":1,"offset":5394},"end":{"line":122,"column":33,"offset":5426},"indent":[]}},{"type":"emphasis","children":[{"type":"link","title":null,"url":"http://localhost:9000","children":[{"type":"text","value":"http://localhost:9000","position":{"start":{"line":122,"column":34,"offset":5427},"end":{"line":122,"column":55,"offset":5448},"indent":[]}}],"position":{"start":{"line":122,"column":34,"offset":5427},"end":{"line":122,"column":55,"offset":5448},"indent":[]}}],"position":{"start":{"line":122,"column":33,"offset":5426},"end":{"line":122,"column":56,"offset":5449},"indent":[]}},{"type":"text","value":" (the default System administrator credentials are ","position":{"start":{"line":122,"column":56,"offset":5449},"end":{"line":122,"column":107,"offset":5500},"indent":[]}},{"type":"inlineCode","value":"admin","position":{"start":{"line":122,"column":107,"offset":5500},"end":{"line":122,"column":114,"offset":5507},"indent":[]}},{"type":"text","value":"/","position":{"start":{"line":122,"column":114,"offset":5507},"end":{"line":122,"column":115,"offset":5508},"indent":[]}},{"type":"inlineCode","value":"admin","position":{"start":{"line":122,"column":115,"offset":5508},"end":{"line":122,"column":122,"offset":5515},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":122,"column":122,"offset":5515},"end":{"line":122,"column":124,"offset":5517},"indent":[]}}],"position":{"start":{"line":122,"column":1,"offset":5394},"end":{"line":122,"column":124,"offset":5517},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Tuning the Web Server","position":{"start":{"line":124,"column":5,"offset":5525},"end":{"line":124,"column":26,"offset":5546},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":5521},"end":{"line":124,"column":26,"offset":5546},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default, SonarQube is configured to run on any computer with a simple Java JRE.","position":{"start":{"line":126,"column":1,"offset":5550},"end":{"line":126,"column":83,"offset":5632},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":5550},"end":{"line":126,"column":83,"offset":5632},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For better performance, the first thing to do when installing a production instance is to use a Java JDK and activate the server mode by uncommenting/setting the following line in ","position":{"start":{"line":128,"column":1,"offset":5636},"end":{"line":128,"column":181,"offset":5816},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/conf/sonar.properties","position":{"start":{"line":128,"column":182,"offset":5817},"end":{"line":128,"column":219,"offset":5854},"indent":[]}}],"position":{"start":{"line":128,"column":181,"offset":5816},"end":{"line":128,"column":220,"offset":5855},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":128,"column":220,"offset":5855},"end":{"line":128,"column":221,"offset":5856},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":5636},"end":{"line":128,"column":221,"offset":5856},"indent":[]}},{"type":"code","lang":null,"value":"sonar.web.javaOpts=-server","position":{"start":{"line":130,"column":1,"offset":5860},"end":{"line":132,"column":4,"offset":5896},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To change the Java JVM used by SonarQube, simply edit ","position":{"start":{"line":134,"column":1,"offset":5900},"end":{"line":134,"column":55,"offset":5954},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"$SONARQUBE-HOME/conf/wrapper.conf","position":{"start":{"line":134,"column":56,"offset":5955},"end":{"line":134,"column":89,"offset":5988},"indent":[]}}],"position":{"start":{"line":134,"column":55,"offset":5954},"end":{"line":134,"column":90,"offset":5989},"indent":[]}},{"type":"text","value":" and update the following line:","position":{"start":{"line":134,"column":90,"offset":5989},"end":{"line":134,"column":121,"offset":6020},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":5900},"end":{"line":134,"column":121,"offset":6020},"indent":[]}},{"type":"code","lang":null,"value":"wrapper.java.command=/path/to/my/jdk/bin/java","position":{"start":{"line":136,"column":1,"offset":6024},"end":{"line":138,"column":4,"offset":6079},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Advanced Installation Features","position":{"start":{"line":140,"column":5,"offset":6087},"end":{"line":140,"column":35,"offset":6117},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":6083},"end":{"line":140,"column":35,"offset":6117},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Running SonarQube as a Service on ","position":{"start":{"line":142,"column":3,"offset":6123},"end":{"line":142,"column":37,"offset":6157},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/setup/operate-server/","children":[{"type":"text","value":"Windows","position":{"start":{"line":142,"column":38,"offset":6158},"end":{"line":142,"column":45,"offset":6165},"indent":[]}}],"position":{"start":{"line":142,"column":37,"offset":6157},"end":{"line":142,"column":70,"offset":6190},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":142,"column":70,"offset":6190},"end":{"line":142,"column":74,"offset":6194},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/setup/operate-server/","children":[{"type":"text","value":"Linux","position":{"start":{"line":142,"column":75,"offset":6195},"end":{"line":142,"column":80,"offset":6200},"indent":[]}}],"position":{"start":{"line":142,"column":74,"offset":6194},"end":{"line":142,"column":105,"offset":6225},"indent":[]}}],"position":{"start":{"line":142,"column":3,"offset":6123},"end":{"line":142,"column":105,"offset":6225},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":6121},"end":{"line":142,"column":105,"offset":6225},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Running SonarQube ","position":{"start":{"line":143,"column":3,"offset":6229},"end":{"line":143,"column":21,"offset":6247},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/setup/operate-server/","children":[{"type":"text","value":"behind a Proxy","position":{"start":{"line":143,"column":22,"offset":6248},"end":{"line":143,"column":36,"offset":6262},"indent":[]}}],"position":{"start":{"line":143,"column":21,"offset":6247},"end":{"line":143,"column":61,"offset":6287},"indent":[]}}],"position":{"start":{"line":143,"column":3,"offset":6229},"end":{"line":143,"column":61,"offset":6287},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":6227},"end":{"line":143,"column":61,"offset":6287},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Running SonarQube Community Edition with ","position":{"start":{"line":144,"column":3,"offset":6291},"end":{"line":144,"column":44,"offset":6332},"indent":[]}},{"type":"link","title":null,"url":"https://hub.docker.com/_/sonarqube/","children":[{"type":"text","value":"Docker","position":{"start":{"line":144,"column":45,"offset":6333},"end":{"line":144,"column":51,"offset":6339},"indent":[]}}],"position":{"start":{"line":144,"column":44,"offset":6332},"end":{"line":144,"column":89,"offset":6377},"indent":[]}}],"position":{"start":{"line":144,"column":3,"offset":6291},"end":{"line":144,"column":89,"offset":6377},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":6289},"end":{"line":144,"column":89,"offset":6377},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":6121},"end":{"line":144,"column":89,"offset":6377},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Next Steps","position":{"start":{"line":146,"column":4,"offset":6384},"end":{"line":146,"column":14,"offset":6394},"indent":[]}}],"position":{"start":{"line":146,"column":1,"offset":6381},"end":{"line":146,"column":14,"offset":6394},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once your server is installed and running, you may also want to ","position":{"start":{"line":148,"column":1,"offset":6398},"end":{"line":148,"column":65,"offset":6462},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/setup/install-plugin/","children":[{"type":"text","value":"Install Plugins","position":{"start":{"line":148,"column":66,"offset":6463},"end":{"line":148,"column":81,"offset":6478},"indent":[]}}],"position":{"start":{"line":148,"column":65,"offset":6462},"end":{"line":148,"column":106,"offset":6503},"indent":[]}},{"type":"text","value":". Then you're ready to begin ","position":{"start":{"line":148,"column":106,"offset":6503},"end":{"line":148,"column":135,"offset":6532},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/overview/","children":[{"type":"text","value":"Analyzing Source Code","position":{"start":{"line":148,"column":136,"offset":6533},"end":{"line":148,"column":157,"offset":6554},"indent":[]}}],"position":{"start":{"line":148,"column":135,"offset":6532},"end":{"line":148,"column":179,"offset":6576},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":148,"column":179,"offset":6576},"end":{"line":148,"column":180,"offset":6577},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":6398},"end":{"line":148,"column":180,"offset":6577},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Troubleshooting/FAQ","position":{"start":{"line":150,"column":4,"offset":6584},"end":{"line":150,"column":23,"offset":6603},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":6581},"end":{"line":150,"column":23,"offset":6603},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Grant more memory to the web server / compute engine / elastic search","position":{"start":{"line":152,"column":5,"offset":6611},"end":{"line":152,"column":74,"offset":6680},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":6607},"end":{"line":152,"column":74,"offset":6680},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To grant more memory to a server-side process, uncomment and edit the relevant javaOpts property in ","position":{"start":{"line":154,"column":1,"offset":6684},"end":{"line":154,"column":101,"offset":6784},"indent":[]}},{"type":"inlineCode","value":"$SONARQUBE_HOME/conf/sonar.properties","position":{"start":{"line":154,"column":101,"offset":6784},"end":{"line":154,"column":140,"offset":6823},"indent":[]}},{"type":"text","value":", specifically:","position":{"start":{"line":154,"column":140,"offset":6823},"end":{"line":154,"column":155,"offset":6838},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":6684},"end":{"line":154,"column":155,"offset":6838},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sonar.web.javaOpts","position":{"start":{"line":156,"column":3,"offset":6844},"end":{"line":156,"column":23,"offset":6864},"indent":[]}},{"type":"text","value":" (minimum values: ","position":{"start":{"line":156,"column":23,"offset":6864},"end":{"line":156,"column":41,"offset":6882},"indent":[]}},{"type":"inlineCode","value":"-server -Xmx768m","position":{"start":{"line":156,"column":41,"offset":6882},"end":{"line":156,"column":59,"offset":6900},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":156,"column":59,"offset":6900},"end":{"line":156,"column":60,"offset":6901},"indent":[]}}],"position":{"start":{"line":156,"column":3,"offset":6844},"end":{"line":156,"column":60,"offset":6901},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":6842},"end":{"line":156,"column":60,"offset":6901},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sonar.ce.javaOpts","position":{"start":{"line":157,"column":3,"offset":6905},"end":{"line":157,"column":22,"offset":6924},"indent":[]}}],"position":{"start":{"line":157,"column":3,"offset":6905},"end":{"line":157,"column":22,"offset":6924},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":6903},"end":{"line":157,"column":22,"offset":6924},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sonar.search.javaOpts","position":{"start":{"line":158,"column":3,"offset":6928},"end":{"line":158,"column":26,"offset":6951},"indent":[]}}],"position":{"start":{"line":158,"column":3,"offset":6928},"end":{"line":158,"column":26,"offset":6951},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":6926},"end":{"line":158,"column":26,"offset":6951},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":6842},"end":{"line":158,"column":26,"offset":6951},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Failed to start on Windows Vista","position":{"start":{"line":160,"column":5,"offset":6959},"end":{"line":160,"column":37,"offset":6991},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":6955},"end":{"line":160,"column":37,"offset":6991},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"SonarQube seems unable to start when installed under the ","position":{"start":{"line":162,"column":1,"offset":6995},"end":{"line":162,"column":58,"offset":7052},"indent":[]}},{"type":"inlineCode","value":"Program Files","position":{"start":{"line":162,"column":58,"offset":7052},"end":{"line":162,"column":73,"offset":7067},"indent":[]}},{"type":"text","value":" directory on Windows Vista. It should therefore not be installed there.","position":{"start":{"line":162,"column":73,"offset":7067},"end":{"line":162,"column":145,"offset":7139},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":6995},"end":{"line":162,"column":145,"offset":7139},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Failed to start SonarQube with Oracle due to bad ","position":{"start":{"line":164,"column":5,"offset":7147},"end":{"line":164,"column":54,"offset":7196},"indent":[]}},{"type":"inlineCode","value":"USERS","position":{"start":{"line":164,"column":54,"offset":7196},"end":{"line":164,"column":61,"offset":7203},"indent":[]}},{"type":"text","value":" table structure","position":{"start":{"line":164,"column":61,"offset":7203},"end":{"line":164,"column":77,"offset":7219},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":7143},"end":{"line":164,"column":77,"offset":7219},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When other ","position":{"start":{"line":166,"column":1,"offset":7223},"end":{"line":166,"column":12,"offset":7234},"indent":[]}},{"type":"inlineCode","value":"USERS","position":{"start":{"line":166,"column":12,"offset":7234},"end":{"line":166,"column":19,"offset":7241},"indent":[]}},{"type":"text","value":" tables exist in the Oracle DB, if the ","position":{"start":{"line":166,"column":19,"offset":7241},"end":{"line":166,"column":58,"offset":7280},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":166,"column":58,"offset":7280},"end":{"line":166,"column":69,"offset":7291},"indent":[]}},{"type":"text","value":" user has read access on this other ","position":{"start":{"line":166,"column":69,"offset":7291},"end":{"line":166,"column":105,"offset":7327},"indent":[]}},{"type":"inlineCode","value":"USERS","position":{"start":{"line":166,"column":105,"offset":7327},"end":{"line":166,"column":112,"offset":7334},"indent":[]}},{"type":"text","value":" table, the SonarQube web server can't start and an exception like the following one is thrown:","position":{"start":{"line":166,"column":112,"offset":7334},"end":{"line":166,"column":207,"offset":7429},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":7223},"end":{"line":166,"column":207,"offset":7429},"indent":[]}},{"type":"code","lang":null,"value":"ActiveRecord::ActiveRecordError: ORA-00904: \"TOTO\": invalid identifier\n: INSERT INTO users (login, name, email, crypted_password, salt, \ncreated_at, updated_at, remember_token, remember_token_expires_at, toto, id)\nVALUES('admin', 'Administrator', '', 'bba4c8a0f808f9798cf8b1c153a4bb4f9178cf59', '2519754f77ea67e5d7211cd1414698f465aacebb',\nTIMESTAMP'2011-06-24 22:09:14', TIMESTAMP'2011-06-24 22:09:14', null, null, null, ?)\nActiveRecord::ActiveRecordError: ORA-00904: \"TOTO\": invalid identifier\n \n: INSERT INTO users (login, name, email, crypted_password, salt, \ncreated_at, updated_at, remember_token, remember_token_expires_at, toto, id)\nVALUES('admin', 'Administrator', '', 'bba4c8a0f808f9798cf8b1c153a4bb4f9178cf59', \n'2519754f77ea67e5d7211cd1414698f465aacebb', TIMESTAMP'2011-06-24 22:09:14', TIMESTAMP'2011-06-24 22:09:14', null, null, null, ?)","position":{"start":{"line":168,"column":1,"offset":7433},"end":{"line":180,"column":4,"offset":8303},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To fix this issue, the rights of the ","position":{"start":{"line":182,"column":1,"offset":8307},"end":{"line":182,"column":38,"offset":8344},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":182,"column":38,"offset":8344},"end":{"line":182,"column":49,"offset":8355},"indent":[]}},{"type":"text","value":" Oracle user must be decreased to remove read access on the other ","position":{"start":{"line":182,"column":49,"offset":8355},"end":{"line":182,"column":115,"offset":8421},"indent":[]}},{"type":"inlineCode","value":"USERS","position":{"start":{"line":182,"column":115,"offset":8421},"end":{"line":182,"column":122,"offset":8428},"indent":[]}},{"type":"text","value":" table(s).","position":{"start":{"line":182,"column":122,"offset":8428},"end":{"line":182,"column":132,"offset":8438},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":8307},"end":{"line":182,"column":132,"offset":8438},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Failed to connect to the Marketplace via proxy","position":{"start":{"line":184,"column":5,"offset":8446},"end":{"line":184,"column":51,"offset":8492},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":8442},"end":{"line":184,"column":51,"offset":8492},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Double check that settings for proxy are correctly set in ","position":{"start":{"line":186,"column":1,"offset":8496},"end":{"line":186,"column":59,"offset":8554},"indent":[]}},{"type":"inlineCode","value":"$SONARQUBE_HOME/conf/sonar.properties","position":{"start":{"line":186,"column":59,"offset":8554},"end":{"line":186,"column":98,"offset":8593},"indent":[]}},{"type":"text","value":".\nNote that if your proxy username contains \"","position":{"start":{"line":186,"column":98,"offset":8593},"end":{"line":187,"column":44,"offset":8639},"indent":[1]}},{"type":"text","value":"\"","position":{"start":{"line":187,"column":44,"offset":8639},"end":{"line":187,"column":46,"offset":8641},"indent":[]}},{"type":"text","value":" (backslash), then it should be escaped - for example username \"domain\\user\" in file should look like:","position":{"start":{"line":187,"column":46,"offset":8641},"end":{"line":187,"column":148,"offset":8743},"indent":[]}}],"position":{"start":{"line":186,"column":1,"offset":8496},"end":{"line":187,"column":148,"offset":8743},"indent":[1]}},{"type":"code","lang":null,"value":"http.proxyUser=domain\\\\user","position":{"start":{"line":189,"column":1,"offset":8747},"end":{"line":191,"column":4,"offset":8784},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For some proxies, the exception \"java.net.ProtocolException: Server redirected too many times\" might mean an incorrect username or password has been configured.","position":{"start":{"line":193,"column":1,"offset":8788},"end":{"line":193,"column":161,"offset":8948},"indent":[]}}],"position":{"start":{"line":193,"column":1,"offset":8788},"end":{"line":193,"column":161,"offset":8948},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Exception java.lang.RuntimeException: can not run elasticsearch as root","position":{"start":{"line":195,"column":5,"offset":8956},"end":{"line":195,"column":76,"offset":9027},"indent":[]}}],"position":{"start":{"line":195,"column":1,"offset":8952},"end":{"line":195,"column":76,"offset":9027},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"SonarQube starts an Elasticsearch process, and the same account that is running SonarQube itself will be used for the Elasticsearch process. Since Elasticsearch cannot be run as ","position":{"start":{"line":197,"column":1,"offset":9031},"end":{"line":197,"column":179,"offset":9209},"indent":[]}},{"type":"inlineCode","value":"root","position":{"start":{"line":197,"column":179,"offset":9209},"end":{"line":197,"column":185,"offset":9215},"indent":[]}},{"type":"text","value":", that means SonarQube can't be either. You must choose some other, non-","position":{"start":{"line":197,"column":185,"offset":9215},"end":{"line":197,"column":257,"offset":9287},"indent":[]}},{"type":"inlineCode","value":"root","position":{"start":{"line":197,"column":257,"offset":9287},"end":{"line":197,"column":263,"offset":9293},"indent":[]}},{"type":"text","value":" account with which to run SonarQube, preferably an account dedicated to the purpose.","position":{"start":{"line":197,"column":263,"offset":9293},"end":{"line":197,"column":348,"offset":9378},"indent":[]}}],"position":{"start":{"line":197,"column":1,"offset":9031},"end":{"line":197,"column":348,"offset":9378},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":198,"column":1,"offset":9380}}}}