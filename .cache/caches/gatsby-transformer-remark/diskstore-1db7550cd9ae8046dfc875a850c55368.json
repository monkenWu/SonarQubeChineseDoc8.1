{"expireTime":9007200870884084000,"key":"transformer-remark-markdown-ast-6a91c547e017cfe19116d66c824e32e2-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Collecting SCM data during code analysis can unlock a number of SonarQube features:","position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":84,"offset":85},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":84,"offset":85},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Automatic Issue Assignment","position":{"start":{"line":4,"column":3,"offset":91},"end":{"line":4,"column":29,"offset":117},"indent":[]}}],"position":{"start":{"line":4,"column":3,"offset":91},"end":{"line":4,"column":29,"offset":117},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":89},"end":{"line":4,"column":29,"offset":117},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"code annotation (blame data) in the Code Viewer","position":{"start":{"line":5,"column":3,"offset":121},"end":{"line":5,"column":50,"offset":168},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":121},"end":{"line":5,"column":50,"offset":168},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":119},"end":{"line":5,"column":50,"offset":168},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"SCM-driven detection of new code (to help with ","position":{"start":{"line":6,"column":3,"offset":172},"end":{"line":6,"column":50,"offset":219},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/user-guide/clean-as-you-code/","children":[{"type":"text","value":"Clean as You Code","position":{"start":{"line":6,"column":51,"offset":220},"end":{"line":6,"column":68,"offset":237},"indent":[]}}],"position":{"start":{"line":6,"column":50,"offset":219},"end":{"line":6,"column":101,"offset":270},"indent":[]}},{"type":"text","value":"). Without SCM data, SonarQube determines new code using analysis dates (to timestamp modification of lines).","position":{"start":{"line":6,"column":101,"offset":270},"end":{"line":6,"column":210,"offset":379},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":172},"end":{"line":6,"column":210,"offset":379},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":170},"end":{"line":6,"column":210,"offset":379},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":89},"end":{"line":6,"column":210,"offset":379},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"SCM integration requires support for your individual SCM provider. Git and SVN are supported by default. For other SCM providers, see the Marketplace.","position":{"start":{"line":8,"column":1,"offset":383},"end":{"line":8,"column":151,"offset":533},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":383},"end":{"line":8,"column":151,"offset":533},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If need be, you can toggle it off at global/project level via administration settings.","position":{"start":{"line":10,"column":1,"offset":537},"end":{"line":10,"column":87,"offset":623},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":537},"end":{"line":10,"column":87,"offset":623},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Git","position":{"start":{"line":12,"column":4,"offset":630},"end":{"line":12,"column":7,"offset":633},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":627},"end":{"line":12,"column":7,"offset":633},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://www.git-scm.com/","children":[{"type":"text","value":"Git","position":{"start":{"line":13,"column":2,"offset":636},"end":{"line":13,"column":5,"offset":639},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":635},"end":{"line":13,"column":31,"offset":665},"indent":[]}},{"type":"text","value":" integration is supported out of the box with a pure Java implementation so there's no need to have Git command line tool installed on the machine where analysis is performed.","position":{"start":{"line":13,"column":31,"offset":665},"end":{"line":13,"column":206,"offset":840},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":635},"end":{"line":13,"column":206,"offset":840},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Auto-detection of Git during analysis will happen if there is a .git folder in the project root directory or in one of its parent folders. Otherwise you can force the provider using ","position":{"start":{"line":15,"column":1,"offset":844},"end":{"line":15,"column":183,"offset":1026},"indent":[]}},{"type":"inlineCode","value":"-Dsonar.scm.provider=git","position":{"start":{"line":15,"column":183,"offset":1026},"end":{"line":15,"column":209,"offset":1052},"indent":[]}},{"type":"text","value":". A full clone is required for this integration to be able to collect the required blame information (see Known Issues). If a shallow clone is detected, a warning will be logged and no attempt will be made to retrieve blame information..","position":{"start":{"line":15,"column":209,"offset":1052},"end":{"line":15,"column":446,"offset":1289},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":844},"end":{"line":15,"column":446,"offset":1289},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Known Issues","position":{"start":{"line":17,"column":5,"offset":1297},"end":{"line":17,"column":17,"offset":1309},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1293},"end":{"line":17,"column":17,"offset":1309},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Git doesn't consider old \"Mac\" line ends (CR) as new lines. As a result the blame operation will contain fewer lines than expected by SonarQube and analysis will fail. The solution is to fix line ends to use either Windows (CR/LF) or Unix (LF) line ends.","position":{"start":{"line":19,"column":3,"offset":1315},"end":{"line":19,"column":257,"offset":1569},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":1315},"end":{"line":19,"column":257,"offset":1569},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1313},"end":{"line":19,"column":257,"offset":1569},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"JGit doesn't support .mailmap file to \"clean\" email adress during the blame","position":{"start":{"line":20,"column":3,"offset":1573},"end":{"line":20,"column":78,"offset":1648},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":1573},"end":{"line":20,"column":78,"offset":1648},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1571},"end":{"line":20,"column":78,"offset":1648},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"\"Missing blame information...\" can be caused by checking out with a partial / shallow clone, or using Git submodules.","position":{"start":{"line":21,"column":3,"offset":1652},"end":{"line":21,"column":120,"offset":1769},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":1652},"end":{"line":21,"column":120,"offset":1769},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1650},"end":{"line":21,"column":120,"offset":1769},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1313},"end":{"line":21,"column":120,"offset":1769},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Advanced information","position":{"start":{"line":23,"column":5,"offset":1777},"end":{"line":23,"column":25,"offset":1797},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1773},"end":{"line":23,"column":25,"offset":1797},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The plugin uses ","position":{"start":{"line":24,"column":1,"offset":1799},"end":{"line":24,"column":17,"offset":1815},"indent":[]}},{"type":"link","title":null,"url":"https://www.eclipse.org/jgit/","children":[{"type":"text","value":"JGit","position":{"start":{"line":24,"column":18,"offset":1816},"end":{"line":24,"column":22,"offset":1820},"indent":[]}}],"position":{"start":{"line":24,"column":17,"offset":1815},"end":{"line":24,"column":54,"offset":1852},"indent":[]}},{"type":"text","value":" 4.9.0. JGit is a pure Java implementation of Git client.","position":{"start":{"line":24,"column":54,"offset":1852},"end":{"line":24,"column":111,"offset":1909},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1799},"end":{"line":24,"column":111,"offset":1909},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"How to investigate error during blame (only possible on Unix/Linux)?","position":{"start":{"line":26,"column":5,"offset":1917},"end":{"line":26,"column":73,"offset":1985},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1913},"end":{"line":26,"column":73,"offset":1985},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you get an error when blame is executed on a file, it may be a limitation or a bug in JGit. To confirm please follow these steps:","position":{"start":{"line":28,"column":1,"offset":1989},"end":{"line":28,"column":133,"offset":2121},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1989},"end":{"line":28,"column":133,"offset":2121},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":true,"children":[{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the standalone JGit command line distribution","position":{"start":{"line":30,"column":4,"offset":2128},"end":{"line":30,"column":58,"offset":2182},"indent":[]}}],"position":{"start":{"line":30,"column":4,"offset":2128},"end":{"line":30,"column":58,"offset":2182},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2125},"end":{"line":31,"column":1,"offset":2184},"indent":[1]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Try to execute the blame command on the offending file:","position":{"start":{"line":32,"column":4,"offset":2189},"end":{"line":32,"column":59,"offset":2244},"indent":[]}},{"type":"break","position":{"start":{"line":32,"column":59,"offset":2244},"end":{"line":33,"column":5,"offset":2252},"indent":[5]}},{"type":"inlineCode","value":"chmod +x /path/to/org.eclipse.jgit.pgm-4.9.0.201710071750-r.sh /path/to/org.eclipse.jgit.pgm-4.9.0.201710071750-r.sh blame -w /path/to/offending/file","position":{"start":{"line":33,"column":5,"offset":2252},"end":{"line":33,"column":156,"offset":2403},"indent":[]}}],"position":{"start":{"line":32,"column":4,"offset":2189},"end":{"line":33,"column":156,"offset":2403},"indent":[5]}}],"position":{"start":{"line":32,"column":1,"offset":2186},"end":{"line":34,"column":1,"offset":2405},"indent":[1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If you get the same error as during analysis, then this really looks like a bug in JGit (especially if you don't have an issue with the native git command line tool). Please try to do the previous steps with latest version of JGit and report all information to the ","position":{"start":{"line":35,"column":4,"offset":2410},"end":{"line":35,"column":269,"offset":2675},"indent":[]}},{"type":"link","title":null,"url":"https://community.sonarsource.com/","children":[{"type":"text","value":"SonarQube Community Forum","position":{"start":{"line":35,"column":270,"offset":2676},"end":{"line":35,"column":295,"offset":2701},"indent":[]}}],"position":{"start":{"line":35,"column":269,"offset":2675},"end":{"line":35,"column":332,"offset":2738},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":35,"column":332,"offset":2738},"end":{"line":35,"column":333,"offset":2739},"indent":[]}}],"position":{"start":{"line":35,"column":4,"offset":2410},"end":{"line":35,"column":333,"offset":2739},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2407},"end":{"line":35,"column":333,"offset":2739},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2125},"end":{"line":35,"column":333,"offset":2739},"indent":[1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Subversion","position":{"start":{"line":38,"column":4,"offset":2748},"end":{"line":38,"column":14,"offset":2758},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2745},"end":{"line":38,"column":14,"offset":2758},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://subversion.apache.org/","children":[{"type":"text","value":"Subversion","position":{"start":{"line":39,"column":2,"offset":2761},"end":{"line":39,"column":12,"offset":2771},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2760},"end":{"line":39,"column":45,"offset":2804},"indent":[]}},{"type":"text","value":" integration is supported out of the box for Subversion 1.6 to 1.9.x.","position":{"start":{"line":39,"column":45,"offset":2804},"end":{"line":39,"column":114,"offset":2873},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2760},"end":{"line":39,"column":114,"offset":2873},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Auto-detection of SVN during analysis will happen if there is a ","position":{"start":{"line":41,"column":1,"offset":2877},"end":{"line":41,"column":65,"offset":2941},"indent":[]}},{"type":"inlineCode","value":".svn","position":{"start":{"line":41,"column":65,"offset":2941},"end":{"line":41,"column":71,"offset":2947},"indent":[]}},{"type":"text","value":" folder somewhere in the parent hierarchy of the project root. Otherwise you can force the provider using ","position":{"start":{"line":41,"column":71,"offset":2947},"end":{"line":41,"column":177,"offset":3053},"indent":[]}},{"type":"inlineCode","value":"-Dsonar.scm.provider=svn","position":{"start":{"line":41,"column":177,"offset":3053},"end":{"line":41,"column":203,"offset":3079},"indent":[]}},{"type":"text","value":" on the analysis command line.","position":{"start":{"line":41,"column":203,"offset":3079},"end":{"line":41,"column":233,"offset":3109},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2877},"end":{"line":41,"column":233,"offset":3109},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Known issues","position":{"start":{"line":43,"column":5,"offset":3117},"end":{"line":43,"column":17,"offset":3129},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":3113},"end":{"line":43,"column":17,"offset":3129},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you get errors like:","position":{"start":{"line":44,"column":1,"offset":3131},"end":{"line":44,"column":24,"offset":3154},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":3131},"end":{"line":44,"column":24,"offset":3154},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"Caused by: org.tmatesoft.svn.core.SVNException: svn: E200007: Retrieval of mergeinfo unsupported by 'https://pmd.svn.sourceforge.net/svnroot/pmd/trunk/pmd/src/main/java/net/sourceforge/pmd/AbstractConfiguration.java';","position":{"start":{"line":46,"column":1,"offset":3158},"end":{"line":46,"column":220,"offset":3377},"indent":[]}},{"type":"text","value":"\nIt means the SVN server is not advertising the 'mergeinfo' capability. You can check the advertised capabilities by simply connecting to it:","position":{"start":{"line":46,"column":220,"offset":3377},"end":{"line":47,"column":141,"offset":3519},"indent":[1]}}],"position":{"start":{"line":46,"column":1,"offset":3158},"end":{"line":47,"column":141,"offset":3519},"indent":[1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"telnet <svn_server> 3690","position":{"start":{"line":49,"column":1,"offset":3523},"end":{"line":49,"column":27,"offset":3549},"indent":[]}},{"type":"text","value":"\nOften this is because your SVN server is not >= 1.5 or your project was not properly migrated after a server upgrade. It could also be a misconfiguration of the server.","position":{"start":{"line":49,"column":27,"offset":3549},"end":{"line":50,"column":169,"offset":3719},"indent":[1]}}],"position":{"start":{"line":49,"column":1,"offset":3523},"end":{"line":50,"column":169,"offset":3719},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"You should try to run svnadmin upgrade ","position":{"start":{"line":52,"column":1,"offset":3723},"end":{"line":52,"column":40,"offset":3762},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"on the server","position":{"start":{"line":52,"column":42,"offset":3764},"end":{"line":52,"column":55,"offset":3777},"indent":[]}}],"position":{"start":{"line":52,"column":40,"offset":3762},"end":{"line":52,"column":57,"offset":3779},"indent":[]}},{"type":"text","value":". For more information, please read ","position":{"start":{"line":52,"column":57,"offset":3779},"end":{"line":52,"column":93,"offset":3815},"indent":[]}},{"type":"link","title":null,"url":"https://subversion.apache.org/docs/release-notes/1.5.html#repos-upgrades","children":[{"type":"text","value":"https://subversion.apache.org/docs/release-notes/1.5.html#repos-upgrades","position":{"start":{"line":52,"column":93,"offset":3815},"end":{"line":52,"column":165,"offset":3887},"indent":[]}}],"position":{"start":{"line":52,"column":93,"offset":3815},"end":{"line":52,"column":165,"offset":3887},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":52,"column":165,"offset":3887},"end":{"line":52,"column":166,"offset":3888},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":3723},"end":{"line":52,"column":166,"offset":3888},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":54,"column":1,"offset":3892}}}}