{"expireTime":9007200870884084000,"key":"transformer-remark-markdown-ast-3efc399c06307c6587b80a36a6d1659d-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"html","value":"<!-- update_center:javascript -->","position":{"start":{"line":3,"column":1,"offset":3},"end":{"line":3,"column":34,"offset":36},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":7,"column":4,"offset":46},"end":{"line":7,"column":17,"offset":59},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":43},"end":{"line":7,"column":17,"offset":59},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In order to analyze JavaScript code, you need to have Node.js >= 8 installed on the machine running the scan. Set property ","position":{"start":{"line":9,"column":1,"offset":63},"end":{"line":9,"column":124,"offset":186},"indent":[]}},{"type":"inlineCode","value":"sonar.nodejs.executable","position":{"start":{"line":9,"column":124,"offset":186},"end":{"line":9,"column":149,"offset":211},"indent":[]}},{"type":"text","value":" to an absolute path to Node.js executable, if standard ","position":{"start":{"line":9,"column":149,"offset":211},"end":{"line":9,"column":205,"offset":267},"indent":[]}},{"type":"inlineCode","value":"node","position":{"start":{"line":9,"column":205,"offset":267},"end":{"line":9,"column":211,"offset":273},"indent":[]}},{"type":"text","value":" is not available.","position":{"start":{"line":9,"column":211,"offset":273},"end":{"line":9,"column":229,"offset":291},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":63},"end":{"line":9,"column":229,"offset":291},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Language-Specific Properties","position":{"start":{"line":11,"column":4,"offset":299},"end":{"line":11,"column":32,"offset":327},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":296},"end":{"line":11,"column":32,"offset":327},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Discover and update the JavaScript-specific properties in: ","position":{"start":{"line":13,"column":1,"offset":331},"end":{"line":13,"column":60,"offset":390},"indent":[]}},{"type":"strong","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/#sonarqube-admin#/admin/settings?category=javascript","children":[{"type":"text","value":"Administration > General Settings > JavaScript","position":{"start":{"line":13,"column":63,"offset":393},"end":{"line":13,"column":109,"offset":439},"indent":[]}}],"position":{"start":{"line":13,"column":62,"offset":392},"end":{"line":13,"column":165,"offset":495},"indent":[]}}],"position":{"start":{"line":13,"column":60,"offset":390},"end":{"line":13,"column":167,"offset":497},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":331},"end":{"line":13,"column":167,"offset":497},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Supported Frameworks and Versions","position":{"start":{"line":15,"column":4,"offset":504},"end":{"line":15,"column":37,"offset":537},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":501},"end":{"line":15,"column":37,"offset":537},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ECMAScript 5 / ECMAScript 2015 (ECMAScript 6) / ECMAScript 2016 / ECMAScript 2017","position":{"start":{"line":16,"column":3,"offset":541},"end":{"line":16,"column":84,"offset":622},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":541},"end":{"line":16,"column":84,"offset":622},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":539},"end":{"line":16,"column":84,"offset":622},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"React JSX","position":{"start":{"line":17,"column":3,"offset":626},"end":{"line":17,"column":12,"offset":635},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":626},"end":{"line":17,"column":12,"offset":635},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":624},"end":{"line":17,"column":12,"offset":635},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Vue.js","position":{"start":{"line":18,"column":3,"offset":639},"end":{"line":18,"column":9,"offset":645},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":639},"end":{"line":18,"column":9,"offset":645},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":637},"end":{"line":18,"column":9,"offset":645},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Flow","position":{"start":{"line":19,"column":3,"offset":649},"end":{"line":19,"column":7,"offset":653},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":649},"end":{"line":19,"column":7,"offset":653},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":647},"end":{"line":19,"column":7,"offset":653},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":539},"end":{"line":19,"column":7,"offset":653},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Rule Profiles","position":{"start":{"line":21,"column":4,"offset":660},"end":{"line":21,"column":17,"offset":673},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":657},"end":{"line":21,"column":17,"offset":673},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are 2 built-in rule profiles for JavaScript: ","position":{"start":{"line":23,"column":1,"offset":677},"end":{"line":23,"column":52,"offset":728},"indent":[]}},{"type":"inlineCode","value":"Sonar way","position":{"start":{"line":23,"column":52,"offset":728},"end":{"line":23,"column":63,"offset":739},"indent":[]}},{"type":"text","value":" (default) and ","position":{"start":{"line":23,"column":63,"offset":739},"end":{"line":23,"column":78,"offset":754},"indent":[]}},{"type":"inlineCode","value":"Sonar way Recommended","position":{"start":{"line":23,"column":78,"offset":754},"end":{"line":23,"column":101,"offset":777},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":23,"column":101,"offset":777},"end":{"line":23,"column":102,"offset":778},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":677},"end":{"line":23,"column":102,"offset":778},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Sonar way","position":{"start":{"line":24,"column":3,"offset":782},"end":{"line":24,"column":14,"offset":793},"indent":[]}},{"type":"text","value":" profile is activated by default. It defines a trimmed list of high-value/low-noise rules useful in almost any JS development context.","position":{"start":{"line":24,"column":14,"offset":793},"end":{"line":24,"column":148,"offset":927},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":782},"end":{"line":24,"column":148,"offset":927},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":780},"end":{"line":24,"column":148,"offset":927},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Sonar way Recommended","position":{"start":{"line":25,"column":3,"offset":931},"end":{"line":25,"column":26,"offset":954},"indent":[]}},{"type":"text","value":" contains all rules from ","position":{"start":{"line":25,"column":26,"offset":954},"end":{"line":25,"column":51,"offset":979},"indent":[]}},{"type":"inlineCode","value":"Sonar way","position":{"start":{"line":25,"column":51,"offset":979},"end":{"line":25,"column":62,"offset":990},"indent":[]}},{"type":"text","value":", plus more rules that mandate high code readability and long-term project evolution.","position":{"start":{"line":25,"column":62,"offset":990},"end":{"line":25,"column":147,"offset":1075},"indent":[]}}],"position":{"start":{"line":25,"column":3,"offset":931},"end":{"line":25,"column":147,"offset":1075},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":929},"end":{"line":25,"column":147,"offset":1075},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":780},"end":{"line":25,"column":147,"offset":1075},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Custom rules","position":{"start":{"line":28,"column":4,"offset":1083},"end":{"line":28,"column":16,"offset":1095},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1080},"end":{"line":28,"column":16,"offset":1095},"indent":[]}},{"type":"warningCustomBlock","children":[{"type":"warningCustomBlockBody","data":{"hName":"div","hProperties":{"className":"custom-block-body"}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This feature is deprecated","position":{"start":{"line":29,"column":1,"offset":1097},"end":{"line":29,"column":27,"offset":1123},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1097},"end":{"line":29,"column":27,"offset":1123},"indent":[]}}]}],"data":{"hName":"div","hProperties":{"className":["custom-block","alert","alert-warning"]}},"position":{"start":{"line":29,"column":1,"offset":1097},"end":{"line":30,"column":29,"offset":1138},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Overview","position":{"start":{"line":31,"column":5,"offset":1144},"end":{"line":31,"column":13,"offset":1152},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1140},"end":{"line":31,"column":13,"offset":1152},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The JavaScript Analyzer parses the source code, creates an Abstract Syntax Tree (AST) and then walks through the entire tree. A coding rule is a visitor that is able to visit nodes from this AST.","position":{"start":{"line":33,"column":1,"offset":1156},"end":{"line":33,"column":196,"offset":1351},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1156},"end":{"line":33,"column":196,"offset":1351},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As soon as the coding rule visits a node, it can navigate the tree around the node and log issues if necessary.","position":{"start":{"line":35,"column":1,"offset":1355},"end":{"line":35,"column":112,"offset":1466},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1355},"end":{"line":35,"column":112,"offset":1466},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create SonarQube Plugin","position":{"start":{"line":37,"column":5,"offset":1474},"end":{"line":37,"column":28,"offset":1497},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1470},"end":{"line":37,"column":28,"offset":1497},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Custom rules for JavaScript can be added by writing a SonarQube Plugin and using JavaScript analyzer APIs.","position":{"start":{"line":38,"column":1,"offset":1499},"end":{"line":38,"column":107,"offset":1605},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1499},"end":{"line":38,"column":107,"offset":1605},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get started a sample plugin can be found here: ","position":{"start":{"line":40,"column":1,"offset":1609},"end":{"line":40,"column":51,"offset":1659},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/tree/master/javascript-custom-rules","children":[{"type":"text","value":"javascript-custom-rules","position":{"start":{"line":40,"column":52,"offset":1660},"end":{"line":40,"column":75,"offset":1683},"indent":[]}}],"position":{"start":{"line":40,"column":51,"offset":1659},"end":{"line":40,"column":172,"offset":1780},"indent":[]}},{"type":"text","value":".\nHere are the step to follow:","position":{"start":{"line":40,"column":172,"offset":1780},"end":{"line":41,"column":29,"offset":1811},"indent":[1]}}],"position":{"start":{"line":40,"column":1,"offset":1609},"end":{"line":41,"column":29,"offset":1811},"indent":[1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a standard SonarQube plugin project","position":{"start":{"line":43,"column":3,"offset":1817},"end":{"line":43,"column":45,"offset":1859},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":1817},"end":{"line":43,"column":45,"offset":1859},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1815},"end":{"line":43,"column":45,"offset":1859},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Attach this plugin to the SonarQube JavaScript analyzer through the ","position":{"start":{"line":44,"column":3,"offset":1863},"end":{"line":44,"column":71,"offset":1931},"indent":[]}},{"type":"inlineCode","value":"pom.xml","position":{"start":{"line":44,"column":71,"offset":1931},"end":{"line":44,"column":80,"offset":1940},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":44,"column":80,"offset":1940},"end":{"line":44,"column":81,"offset":1941},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":1863},"end":{"line":44,"column":81,"offset":1941},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the dependency to the JavaScript analyzer.","position":{"start":{"line":45,"column":5,"offset":1947},"end":{"line":45,"column":51,"offset":1993},"indent":[]}}],"position":{"start":{"line":45,"column":5,"offset":1947},"end":{"line":45,"column":51,"offset":1993},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":1945},"end":{"line":45,"column":51,"offset":1993},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the following line in the sonar-packaging-maven-plugin configuration.","position":{"start":{"line":46,"column":5,"offset":1999},"end":{"line":46,"column":78,"offset":2072},"indent":[]}}],"position":{"start":{"line":46,"column":5,"offset":1999},"end":{"line":46,"column":78,"offset":2072},"indent":[]}},{"type":"code","lang":null,"value":"<basePlugin>javascript</basePlugin>","position":{"start":{"line":47,"column":3,"offset":2076},"end":{"line":49,"column":6,"offset":2125},"indent":[3,3]}}],"position":{"start":{"line":46,"column":3,"offset":1997},"end":{"line":49,"column":6,"offset":2125},"indent":[3,3,3]}}],"position":{"start":{"line":45,"column":3,"offset":1945},"end":{"line":49,"column":6,"offset":2125},"indent":[3,3,3,3]}}],"position":{"start":{"line":44,"column":1,"offset":1861},"end":{"line":49,"column":6,"offset":2125},"indent":[1,1,1,1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Implement the following extension points:","position":{"start":{"line":50,"column":3,"offset":2129},"end":{"line":50,"column":44,"offset":2170},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":2129},"end":{"line":50,"column":44,"offset":2170},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/latest/apidocs/index.html?org/sonar/api/Plugin.html","children":[{"type":"text","value":"Plugin","position":{"start":{"line":51,"column":6,"offset":2177},"end":{"line":51,"column":12,"offset":2183},"indent":[]}}],"position":{"start":{"line":51,"column":5,"offset":2176},"end":{"line":51,"column":98,"offset":2269},"indent":[]}}],"position":{"start":{"line":51,"column":5,"offset":2176},"end":{"line":51,"column":98,"offset":2269},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":2174},"end":{"line":51,"column":98,"offset":2269},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/latest/apidocs/index.html?org/sonar/api/server/rule/RulesDefinition.html","children":[{"type":"text","value":"RulesDefinition","position":{"start":{"line":52,"column":6,"offset":2276},"end":{"line":52,"column":21,"offset":2291},"indent":[]}}],"position":{"start":{"line":52,"column":5,"offset":2275},"end":{"line":52,"column":128,"offset":2398},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":52,"column":128,"offset":2398},"end":{"line":52,"column":129,"offset":2399},"indent":[]}}],"position":{"start":{"line":52,"column":5,"offset":2275},"end":{"line":52,"column":129,"offset":2399},"indent":[]}}],"position":{"start":{"line":52,"column":3,"offset":2273},"end":{"line":52,"column":129,"offset":2399},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"CustomRuleRepository","position":{"start":{"line":53,"column":5,"offset":2405},"end":{"line":53,"column":27,"offset":2427},"indent":[]}},{"type":"text","value":", this interface registers rule classes with JavaScript plugin, so they are invoked during analysis of JavaScript files.","position":{"start":{"line":53,"column":27,"offset":2427},"end":{"line":53,"column":147,"offset":2547},"indent":[]}}],"position":{"start":{"line":53,"column":5,"offset":2405},"end":{"line":53,"column":147,"offset":2547},"indent":[]}}],"position":{"start":{"line":53,"column":3,"offset":2403},"end":{"line":53,"column":147,"offset":2547},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":2174},"end":{"line":53,"column":147,"offset":2547},"indent":[3,3]}}],"position":{"start":{"line":50,"column":1,"offset":2127},"end":{"line":53,"column":147,"offset":2547},"indent":[1,1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Declare ","position":{"start":{"line":54,"column":3,"offset":2551},"end":{"line":54,"column":11,"offset":2559},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":54,"column":11,"offset":2559},"end":{"line":54,"column":28,"offset":2576},"indent":[]}},{"type":"text","value":" as an extension in the ","position":{"start":{"line":54,"column":28,"offset":2576},"end":{"line":54,"column":52,"offset":2600},"indent":[]}},{"type":"inlineCode","value":"Plugin","position":{"start":{"line":54,"column":52,"offset":2600},"end":{"line":54,"column":60,"offset":2608},"indent":[]}},{"type":"text","value":" extension point.","position":{"start":{"line":54,"column":60,"offset":2608},"end":{"line":54,"column":77,"offset":2625},"indent":[]}}],"position":{"start":{"line":54,"column":3,"offset":2551},"end":{"line":54,"column":77,"offset":2625},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":2549},"end":{"line":54,"column":77,"offset":2625},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1815},"end":{"line":54,"column":77,"offset":2625},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can implement both ","position":{"start":{"line":56,"column":1,"offset":2629},"end":{"line":56,"column":24,"offset":2652},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":56,"column":24,"offset":2652},"end":{"line":56,"column":41,"offset":2669},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":56,"column":41,"offset":2669},"end":{"line":56,"column":46,"offset":2674},"indent":[]}},{"type":"inlineCode","value":"CustomRulesRepository","position":{"start":{"line":56,"column":46,"offset":2674},"end":{"line":56,"column":69,"offset":2697},"indent":[]}},{"type":"text","value":" in a single class.","position":{"start":{"line":56,"column":69,"offset":2697},"end":{"line":56,"column":88,"offset":2716},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2629},"end":{"line":56,"column":88,"offset":2716},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Implement a Rule","position":{"start":{"line":58,"column":5,"offset":2724},"end":{"line":58,"column":21,"offset":2740},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2720},"end":{"line":58,"column":21,"offset":2740},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a class that will hold the implementation of the rule. It should:","position":{"start":{"line":60,"column":3,"offset":2746},"end":{"line":60,"column":75,"offset":2818},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":2746},"end":{"line":60,"column":75,"offset":2818},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Extend ","position":{"start":{"line":61,"column":5,"offset":2824},"end":{"line":61,"column":12,"offset":2831},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitorCheck","position":{"start":{"line":61,"column":12,"offset":2831},"end":{"line":61,"column":40,"offset":2859},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":61,"column":40,"offset":2859},"end":{"line":61,"column":44,"offset":2863},"indent":[]}},{"type":"inlineCode","value":"SubscriptionVisitorCheck","position":{"start":{"line":61,"column":44,"offset":2863},"end":{"line":61,"column":70,"offset":2889},"indent":[]}}],"position":{"start":{"line":61,"column":5,"offset":2824},"end":{"line":61,"column":70,"offset":2889},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":2822},"end":{"line":61,"column":70,"offset":2889},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Define the rule name, key, tags, etc. with Java annotations.","position":{"start":{"line":62,"column":5,"offset":2895},"end":{"line":62,"column":65,"offset":2955},"indent":[]}}],"position":{"start":{"line":62,"column":5,"offset":2895},"end":{"line":62,"column":65,"offset":2955},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":2893},"end":{"line":62,"column":65,"offset":2955},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":2822},"end":{"line":62,"column":65,"offset":2955},"indent":[3]}}],"position":{"start":{"line":60,"column":1,"offset":2744},"end":{"line":62,"column":65,"offset":2955},"indent":[1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Declare this class in the ","position":{"start":{"line":63,"column":3,"offset":2959},"end":{"line":63,"column":29,"offset":2985},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":63,"column":29,"offset":2985},"end":{"line":63,"column":46,"offset":3002},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":63,"column":46,"offset":3002},"end":{"line":63,"column":47,"offset":3003},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":2959},"end":{"line":63,"column":47,"offset":3003},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2957},"end":{"line":63,"column":47,"offset":3003},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2744},"end":{"line":63,"column":47,"offset":3003},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Implementation Details","position":{"start":{"line":65,"column":6,"offset":3012},"end":{"line":65,"column":28,"offset":3034},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":3007},"end":{"line":65,"column":28,"offset":3034},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Using DoubleDispatchVisitorCheck","position":{"start":{"line":67,"column":6,"offset":3043},"end":{"line":67,"column":38,"offset":3075},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3038},"end":{"line":67,"column":38,"offset":3075},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"DoubleDispatchVisitorCheck","position":{"start":{"line":68,"column":1,"offset":3077},"end":{"line":68,"column":29,"offset":3105},"indent":[]}},{"type":"text","value":" extends ","position":{"start":{"line":68,"column":29,"offset":3105},"end":{"line":68,"column":38,"offset":3114},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitor","position":{"start":{"line":68,"column":38,"offset":3114},"end":{"line":68,"column":61,"offset":3137},"indent":[]}},{"type":"text","value":" which provide a set of methods to visit specific tree nodes (these methods' names start with ","position":{"start":{"line":68,"column":61,"offset":3137},"end":{"line":68,"column":155,"offset":3231},"indent":[]}},{"type":"inlineCode","value":"visit","position":{"start":{"line":68,"column":155,"offset":3231},"end":{"line":68,"column":162,"offset":3238},"indent":[]}},{"type":"text","value":"). To explore a part of the AST, override the required method(s). For example, if you want to explore ","position":{"start":{"line":68,"column":162,"offset":3238},"end":{"line":68,"column":264,"offset":3340},"indent":[]}},{"type":"inlineCode","value":"if","position":{"start":{"line":68,"column":264,"offset":3340},"end":{"line":68,"column":268,"offset":3344},"indent":[]}},{"type":"text","value":" statement nodes, override the ","position":{"start":{"line":68,"column":268,"offset":3344},"end":{"line":68,"column":299,"offset":3375},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitor#visitIfStatement","position":{"start":{"line":68,"column":299,"offset":3375},"end":{"line":68,"column":339,"offset":3415},"indent":[]}},{"type":"text","value":" method that will be called each time an ","position":{"start":{"line":68,"column":339,"offset":3415},"end":{"line":68,"column":380,"offset":3456},"indent":[]}},{"type":"inlineCode","value":"IfStatementTree","position":{"start":{"line":68,"column":380,"offset":3456},"end":{"line":68,"column":397,"offset":3473},"indent":[]}},{"type":"text","value":" node is encountered in the AST.","position":{"start":{"line":68,"column":397,"offset":3473},"end":{"line":68,"column":429,"offset":3505},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3077},"end":{"line":68,"column":429,"offset":3505},"indent":[]}},{"type":"warningCustomBlock","children":[{"type":"warningCustomBlockBody","data":{"hName":"div","hProperties":{"className":"custom-block-body"}},"children":[{"type":"paragraph","children":[{"type":"text","value":"When overriding a visit method, you must call the ","position":{"start":{"line":70,"column":1,"offset":3509},"end":{"line":70,"column":51,"offset":3559},"indent":[]}},{"type":"inlineCode","value":"super","position":{"start":{"line":70,"column":51,"offset":3559},"end":{"line":70,"column":58,"offset":3566},"indent":[]}},{"type":"text","value":" method in order to allow the visitor to visit the rest of the tree.","position":{"start":{"line":70,"column":58,"offset":3566},"end":{"line":70,"column":126,"offset":3634},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":3509},"end":{"line":70,"column":126,"offset":3634},"indent":[]}}]}],"data":{"hName":"div","hProperties":{"className":["custom-block","alert","alert-warning"]}},"position":{"start":{"line":70,"column":1,"offset":3509},"end":{"line":71,"column":128,"offset":3649},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Using SubscriptionVisitorCheck","position":{"start":{"line":73,"column":6,"offset":3658},"end":{"line":73,"column":36,"offset":3688},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3653},"end":{"line":73,"column":36,"offset":3688},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"SubscriptionVisitorCheck","position":{"start":{"line":74,"column":1,"offset":3690},"end":{"line":74,"column":27,"offset":3716},"indent":[]}},{"type":"text","value":" extends ","position":{"start":{"line":74,"column":27,"offset":3716},"end":{"line":74,"column":36,"offset":3725},"indent":[]}},{"type":"inlineCode","value":"SubscriptionVisitor","position":{"start":{"line":74,"column":36,"offset":3725},"end":{"line":74,"column":57,"offset":3746},"indent":[]}},{"type":"text","value":". To explore a part of the AST, override ","position":{"start":{"line":74,"column":57,"offset":3746},"end":{"line":74,"column":98,"offset":3787},"indent":[]}},{"type":"inlineCode","value":"SubscribtionVisitor#nodesToVisit()","position":{"start":{"line":74,"column":98,"offset":3787},"end":{"line":74,"column":134,"offset":3823},"indent":[]}},{"type":"text","value":" by returning the list of the ","position":{"start":{"line":74,"column":134,"offset":3823},"end":{"line":74,"column":164,"offset":3853},"indent":[]}},{"type":"inlineCode","value":"Tree#Kind","position":{"start":{"line":74,"column":164,"offset":3853},"end":{"line":74,"column":175,"offset":3864},"indent":[]}},{"type":"text","value":" of node you want to visit. For example, if you want to explore ","position":{"start":{"line":74,"column":175,"offset":3864},"end":{"line":74,"column":239,"offset":3928},"indent":[]}},{"type":"inlineCode","value":"if","position":{"start":{"line":74,"column":239,"offset":3928},"end":{"line":74,"column":243,"offset":3932},"indent":[]}},{"type":"text","value":" statement nodes the method will return a list containing the element ","position":{"start":{"line":74,"column":243,"offset":3932},"end":{"line":74,"column":313,"offset":4002},"indent":[]}},{"type":"inlineCode","value":"Tree#Kind#IF_STATEMENT","position":{"start":{"line":74,"column":313,"offset":4002},"end":{"line":74,"column":337,"offset":4026},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":74,"column":337,"offset":4026},"end":{"line":74,"column":338,"offset":4027},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":3690},"end":{"line":74,"column":338,"offset":4027},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Create issues","position":{"start":{"line":76,"column":6,"offset":4036},"end":{"line":76,"column":19,"offset":4049},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":4031},"end":{"line":76,"column":19,"offset":4049},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use these methods to log an issue:","position":{"start":{"line":77,"column":1,"offset":4051},"end":{"line":77,"column":35,"offset":4085},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":4051},"end":{"line":77,"column":35,"offset":4085},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"JavaScriptCheck#addIssue(tree, message)","position":{"start":{"line":79,"column":3,"offset":4091},"end":{"line":79,"column":44,"offset":4132},"indent":[]}},{"type":"text","value":" creates and returns an instance of ","position":{"start":{"line":79,"column":44,"offset":4132},"end":{"line":79,"column":80,"offset":4168},"indent":[]}},{"type":"inlineCode","value":"PreciseIssue","position":{"start":{"line":79,"column":80,"offset":4168},"end":{"line":79,"column":94,"offset":4182},"indent":[]}},{"type":"text","value":". In the SonarQube UI this issue will highlight all code corresponding to the tree passed as the first parameter. To add cost (effort to fix) or secondary locations provide these values to your just-created instance of ","position":{"start":{"line":79,"column":94,"offset":4182},"end":{"line":79,"column":313,"offset":4401},"indent":[]}},{"type":"inlineCode","value":"PreciseIssue","position":{"start":{"line":79,"column":313,"offset":4401},"end":{"line":79,"column":327,"offset":4415},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":79,"column":327,"offset":4415},"end":{"line":79,"column":328,"offset":4416},"indent":[]}}],"position":{"start":{"line":79,"column":3,"offset":4091},"end":{"line":79,"column":328,"offset":4416},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":4089},"end":{"line":79,"column":328,"offset":4416},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"JavaScriptCheck#addIssue(issue)","position":{"start":{"line":80,"column":3,"offset":4420},"end":{"line":80,"column":36,"offset":4453},"indent":[]}},{"type":"text","value":" creates and returns the instance of ","position":{"start":{"line":80,"column":36,"offset":4453},"end":{"line":80,"column":73,"offset":4490},"indent":[]}},{"type":"inlineCode","value":"Issue","position":{"start":{"line":80,"column":73,"offset":4490},"end":{"line":80,"column":80,"offset":4497},"indent":[]}},{"type":"text","value":". Use this method to create non-standard issues (e.g. for a file-level issue instantiate ","position":{"start":{"line":80,"column":80,"offset":4497},"end":{"line":80,"column":169,"offset":4586},"indent":[]}},{"type":"inlineCode","value":"FileIssue","position":{"start":{"line":80,"column":169,"offset":4586},"end":{"line":80,"column":180,"offset":4597},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":80,"column":180,"offset":4597},"end":{"line":80,"column":182,"offset":4599},"indent":[]}}],"position":{"start":{"line":80,"column":3,"offset":4420},"end":{"line":80,"column":182,"offset":4599},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":4418},"end":{"line":80,"column":182,"offset":4599},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":4089},"end":{"line":80,"column":182,"offset":4599},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Check context","position":{"start":{"line":82,"column":6,"offset":4608},"end":{"line":82,"column":19,"offset":4621},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":4603},"end":{"line":82,"column":19,"offset":4621},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check context is provided by ","position":{"start":{"line":83,"column":1,"offset":4623},"end":{"line":83,"column":30,"offset":4652},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitorCheck","position":{"start":{"line":83,"column":30,"offset":4652},"end":{"line":83,"column":58,"offset":4680},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":83,"column":58,"offset":4680},"end":{"line":83,"column":62,"offset":4684},"indent":[]}},{"type":"inlineCode","value":"SubscriptionVisitorCheck","position":{"start":{"line":83,"column":62,"offset":4684},"end":{"line":83,"column":88,"offset":4710},"indent":[]}},{"type":"text","value":" by calling the ","position":{"start":{"line":83,"column":88,"offset":4710},"end":{"line":83,"column":104,"offset":4726},"indent":[]}},{"type":"inlineCode","value":"JavaScriptCheck#getContext","position":{"start":{"line":83,"column":104,"offset":4726},"end":{"line":83,"column":132,"offset":4754},"indent":[]}},{"type":"text","value":" method. Check context provides you access to the root tree of the file, the file itself and the symbol model (information about variables).","position":{"start":{"line":83,"column":132,"offset":4754},"end":{"line":83,"column":272,"offset":4894},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":4623},"end":{"line":83,"column":272,"offset":4894},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Test rule","position":{"start":{"line":85,"column":6,"offset":4903},"end":{"line":85,"column":15,"offset":4912},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":4898},"end":{"line":85,"column":15,"offset":4912},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To test the rule you can use ","position":{"start":{"line":86,"column":1,"offset":4914},"end":{"line":86,"column":30,"offset":4943},"indent":[]}},{"type":"inlineCode","value":"JavaScriptCheckVerifier#verify()","position":{"start":{"line":86,"column":30,"offset":4943},"end":{"line":86,"column":64,"offset":4977},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":86,"column":64,"offset":4977},"end":{"line":86,"column":68,"offset":4981},"indent":[]}},{"type":"inlineCode","value":"JavaScriptCheckVerifier#issues()","position":{"start":{"line":86,"column":68,"offset":4981},"end":{"line":86,"column":102,"offset":5015},"indent":[]}},{"type":"text","value":". To be able to use these methods add a dependency to your project:","position":{"start":{"line":86,"column":102,"offset":5015},"end":{"line":86,"column":169,"offset":5082},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":4914},"end":{"line":86,"column":169,"offset":5082},"indent":[]}},{"type":"code","lang":null,"value":"<dependency>\n  <groupId>org.sonarsource.javascript</groupId>\n  <artifactId>javascript-checks-testkit</artifactId>\n  <version>XXX</version>\n  <scope>test</scope>\n</dependency>","position":{"start":{"line":87,"column":1,"offset":5084},"end":{"line":94,"column":4,"offset":5273},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"API Changes","position":{"start":{"line":96,"column":5,"offset":5281},"end":{"line":96,"column":16,"offset":5292},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":5277},"end":{"line":96,"column":16,"offset":5292},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"SonarJS 4.2.1","position":{"start":{"line":97,"column":6,"offset":5299},"end":{"line":97,"column":19,"offset":5312},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":5294},"end":{"line":97,"column":19,"offset":5312},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"CustomJavaScriptRulesDefinition","position":{"start":{"line":98,"column":3,"offset":5316},"end":{"line":98,"column":36,"offset":5349},"indent":[]}},{"type":"text","value":" is deprecated. Implement extension ","position":{"start":{"line":98,"column":36,"offset":5349},"end":{"line":98,"column":72,"offset":5385},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":98,"column":72,"offset":5385},"end":{"line":98,"column":89,"offset":5402},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":98,"column":89,"offset":5402},"end":{"line":98,"column":94,"offset":5407},"indent":[]}},{"type":"inlineCode","value":"CustomRuleRepository","position":{"start":{"line":98,"column":94,"offset":5407},"end":{"line":98,"column":116,"offset":5429},"indent":[]}},{"type":"text","value":" instead.","position":{"start":{"line":98,"column":116,"offset":5429},"end":{"line":98,"column":125,"offset":5438},"indent":[]}}],"position":{"start":{"line":98,"column":3,"offset":5316},"end":{"line":98,"column":125,"offset":5438},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5314},"end":{"line":98,"column":125,"offset":5438},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5314},"end":{"line":98,"column":125,"offset":5438},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"SonarJS 4.0","position":{"start":{"line":100,"column":6,"offset":5447},"end":{"line":100,"column":17,"offset":5458},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":5442},"end":{"line":100,"column":17,"offset":5458},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Method ","position":{"start":{"line":101,"column":3,"offset":5462},"end":{"line":101,"column":10,"offset":5469},"indent":[]}},{"type":"inlineCode","value":"TreeVisitorContext#getFile()","position":{"start":{"line":101,"column":10,"offset":5469},"end":{"line":101,"column":40,"offset":5499},"indent":[]}},{"type":"text","value":" is removed.","position":{"start":{"line":101,"column":40,"offset":5499},"end":{"line":101,"column":52,"offset":5511},"indent":[]}}],"position":{"start":{"line":101,"column":3,"offset":5462},"end":{"line":101,"column":52,"offset":5511},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":5460},"end":{"line":101,"column":52,"offset":5511},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":5460},"end":{"line":101,"column":52,"offset":5511},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Related Pages","position":{"start":{"line":105,"column":4,"offset":5521},"end":{"line":105,"column":17,"offset":5534},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":5518},"end":{"line":105,"column":17,"offset":5534},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":true,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/coverage/","children":[{"type":"text","value":"Test Coverage & Execution","position":{"start":{"line":107,"column":4,"offset":5541},"end":{"line":107,"column":29,"offset":5566},"indent":[]}}],"position":{"start":{"line":107,"column":3,"offset":5540},"end":{"line":107,"column":51,"offset":5588},"indent":[]}},{"type":"text","value":" (LCOV format)","position":{"start":{"line":107,"column":51,"offset":5588},"end":{"line":107,"column":65,"offset":5602},"indent":[]}}],"position":{"start":{"line":107,"column":3,"offset":5540},"end":{"line":107,"column":65,"offset":5602},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":5538},"end":{"line":107,"column":65,"offset":5602},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/external-issues/","children":[{"type":"text","value":"Importing External Issues","position":{"start":{"line":108,"column":4,"offset":5607},"end":{"line":108,"column":29,"offset":5632},"indent":[]}}],"position":{"start":{"line":108,"column":3,"offset":5606},"end":{"line":108,"column":58,"offset":5661},"indent":[]}},{"type":"text","value":" (ESLint)","position":{"start":{"line":108,"column":58,"offset":5661},"end":{"line":108,"column":67,"offset":5670},"indent":[]}}],"position":{"start":{"line":108,"column":3,"offset":5606},"end":{"line":108,"column":67,"offset":5670},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":5604},"end":{"line":108,"column":67,"offset":5670},"indent":[]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/SonarSource/eslint-plugin-sonarjs","children":[{"type":"text","value":"SonarJS Plugin for ESLint","position":{"start":{"line":109,"column":4,"offset":5675},"end":{"line":109,"column":29,"offset":5700},"indent":[]}}],"position":{"start":{"line":109,"column":3,"offset":5674},"end":{"line":109,"column":84,"offset":5755},"indent":[]}}],"position":{"start":{"line":109,"column":3,"offset":5674},"end":{"line":109,"column":84,"offset":5755},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":5672},"end":{"line":110,"column":1,"offset":5757},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/extend/adding-coding-rules/","children":[{"type":"text","value":"Adding Coding Rules","position":{"start":{"line":111,"column":4,"offset":5761},"end":{"line":111,"column":23,"offset":5780},"indent":[]}}],"position":{"start":{"line":111,"column":3,"offset":5760},"end":{"line":111,"column":54,"offset":5811},"indent":[]}}],"position":{"start":{"line":111,"column":3,"offset":5760},"end":{"line":111,"column":54,"offset":5811},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":5758},"end":{"line":111,"column":54,"offset":5811},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":5538},"end":{"line":111,"column":54,"offset":5811},"indent":[1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":113,"column":1,"offset":5814}}}}