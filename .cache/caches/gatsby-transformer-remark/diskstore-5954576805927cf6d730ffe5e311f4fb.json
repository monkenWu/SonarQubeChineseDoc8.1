{"expireTime":9007200870884084000,"key":"transformer-remark-markdown-ast-9180e8ce188f6d477d01efecacede008-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"RPG is available as part of ","position":{"start":{"line":2,"column":2,"offset":3},"end":{"line":2,"column":30,"offset":31},"indent":[]}},{"type":"link","title":null,"url":"https://redirect.sonarsource.com/editions/enterprise.html","children":[{"type":"text","value":"Enterprise Edition","position":{"start":{"line":2,"column":31,"offset":32},"end":{"line":2,"column":49,"offset":50},"indent":[]}}],"position":{"start":{"line":2,"column":30,"offset":31},"end":{"line":2,"column":109,"offset":110},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":2,"column":109,"offset":110},"end":{"line":2,"column":114,"offset":115},"indent":[]}},{"type":"link","title":null,"url":"https://redirect.sonarsource.com/editions/editions.html","children":[{"type":"text","value":"above","position":{"start":{"line":2,"column":115,"offset":116},"end":{"line":2,"column":120,"offset":121},"indent":[]}}],"position":{"start":{"line":2,"column":114,"offset":115},"end":{"line":2,"column":178,"offset":179},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":2,"column":178,"offset":179},"end":{"line":2,"column":179,"offset":180},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":180,"offset":181},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":180,"offset":181},"indent":[]}},{"type":"html","value":"<!-- update_center:rpg -->","position":{"start":{"line":5,"column":1,"offset":186},"end":{"line":5,"column":27,"offset":212},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Language-Specific Properties","position":{"start":{"line":8,"column":4,"offset":220},"end":{"line":8,"column":32,"offset":248},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":217},"end":{"line":8,"column":32,"offset":248},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Discover and update the RPG-specific ","position":{"start":{"line":10,"column":1,"offset":252},"end":{"line":10,"column":38,"offset":289},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/analysis-parameters/","children":[{"type":"text","value":"properties","position":{"start":{"line":10,"column":39,"offset":290},"end":{"line":10,"column":49,"offset":300},"indent":[]}}],"position":{"start":{"line":10,"column":38,"offset":289},"end":{"line":10,"column":82,"offset":333},"indent":[]}},{"type":"text","value":" in: ","position":{"start":{"line":10,"column":82,"offset":333},"end":{"line":10,"column":87,"offset":338},"indent":[]}},{"type":"strong","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/#sonarqube-admin#/admin/settings?category=rpg","children":[{"type":"text","value":"Administration > General Settings > RPG","position":{"start":{"line":10,"column":90,"offset":341},"end":{"line":10,"column":129,"offset":380},"indent":[]}}],"position":{"start":{"line":10,"column":89,"offset":340},"end":{"line":10,"column":178,"offset":429},"indent":[]}}],"position":{"start":{"line":10,"column":87,"offset":338},"end":{"line":10,"column":180,"offset":431},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":252},"end":{"line":10,"column":180,"offset":431},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Source Code Extraction","position":{"start":{"line":12,"column":4,"offset":438},"end":{"line":12,"column":26,"offset":460},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":435},"end":{"line":12,"column":26,"offset":460},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In order to analyze your source code with SonarQube you need to first extract it onto a filesystem. You can use your own tool or an open source tool; SonarSource does not provide any connectors or source code extraction tools.","position":{"start":{"line":14,"column":1,"offset":464},"end":{"line":14,"column":227,"offset":690},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":464},"end":{"line":14,"column":227,"offset":690},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"RPG Source Format","position":{"start":{"line":16,"column":4,"offset":697},"end":{"line":16,"column":21,"offset":714},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":694},"end":{"line":16,"column":21,"offset":714},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Depending on your extraction process, your RPG source files may include an extra margin on the left of the 80 columns used for code. This margin is in addition to the standard margin which takes up characters 1-5 in the 80-character source format. The extra margin is controlled through the ","position":{"start":{"line":18,"column":1,"offset":718},"end":{"line":18,"column":292,"offset":1009},"indent":[]}},{"type":"inlineCode","value":"sonar.rpg.leftMarginWidth","position":{"start":{"line":18,"column":292,"offset":1009},"end":{"line":18,"column":319,"offset":1036},"indent":[]}},{"type":"text","value":" property. By default, it is set to 12, which is the size of the margin in an IBM “source physical file”. If your RPG source files do not contain such a margin, you should set ","position":{"start":{"line":18,"column":319,"offset":1036},"end":{"line":18,"column":495,"offset":1212},"indent":[]}},{"type":"inlineCode","value":"sonar.rpg.leftMarginWidth","position":{"start":{"line":18,"column":495,"offset":1212},"end":{"line":18,"column":522,"offset":1239},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":18,"column":522,"offset":1239},"end":{"line":18,"column":526,"offset":1243},"indent":[]}},{"type":"inlineCode","value":"0","position":{"start":{"line":18,"column":526,"offset":1243},"end":{"line":18,"column":529,"offset":1246},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":18,"column":529,"offset":1246},"end":{"line":18,"column":530,"offset":1247},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":718},"end":{"line":18,"column":530,"offset":1247},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can find an ","position":{"start":{"line":20,"column":1,"offset":1251},"end":{"line":20,"column":17,"offset":1267},"indent":[]}},{"type":"link","title":null,"url":"https://raw.githubusercontent.com/SonarSource/sonar-scanning-examples/master/sonarqube-scanner/src/rpg/MYPROGRAM.rpg","children":[{"type":"text","value":"example file","position":{"start":{"line":20,"column":18,"offset":1268},"end":{"line":20,"column":30,"offset":1280},"indent":[]}}],"position":{"start":{"line":20,"column":17,"offset":1267},"end":{"line":20,"column":149,"offset":1399},"indent":[]}},{"type":"text","value":" illustrating a 12-character margin in our sample project.","position":{"start":{"line":20,"column":149,"offset":1399},"end":{"line":20,"column":207,"offset":1457},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1251},"end":{"line":20,"column":207,"offset":1457},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You should also make sure to set ","position":{"start":{"line":22,"column":1,"offset":1461},"end":{"line":22,"column":34,"offset":1494},"indent":[]}},{"type":"inlineCode","value":"sonar.sourceEncoding","position":{"start":{"line":22,"column":34,"offset":1494},"end":{"line":22,"column":56,"offset":1516},"indent":[]}},{"type":"text","value":" to the appropriate encoding. Please check the ","position":{"start":{"line":22,"column":56,"offset":1516},"end":{"line":22,"column":103,"offset":1563},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/analysis-parameters/","children":[{"type":"text","value":"documentation of this property","position":{"start":{"line":22,"column":104,"offset":1564},"end":{"line":22,"column":134,"offset":1594},"indent":[]}}],"position":{"start":{"line":22,"column":103,"offset":1563},"end":{"line":22,"column":167,"offset":1627},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":22,"column":167,"offset":1627},"end":{"line":22,"column":168,"offset":1628},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1461},"end":{"line":22,"column":168,"offset":1628},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Free-Form Support","position":{"start":{"line":24,"column":4,"offset":1635},"end":{"line":24,"column":21,"offset":1652},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1632},"end":{"line":24,"column":21,"offset":1652},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Free-form is supported for C-specs and SQL statements. Free-form is not yet supported for H, F, D and P specs (which were ","position":{"start":{"line":26,"column":1,"offset":1656},"end":{"line":26,"column":123,"offset":1778},"indent":[]}},{"type":"link","title":null,"url":"http://www-01.ibm.com/support/knowledgecenter/ssw_ibm_i_72/rzasd/rpgrelv7r2.htm","children":[{"type":"text","value":"added in IBM i 7.2","position":{"start":{"line":26,"column":124,"offset":1779},"end":{"line":26,"column":142,"offset":1797},"indent":[]}}],"position":{"start":{"line":26,"column":123,"offset":1778},"end":{"line":26,"column":224,"offset":1879},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":26,"column":224,"offset":1879},"end":{"line":26,"column":226,"offset":1881},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1656},"end":{"line":26,"column":226,"offset":1881},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Custom Rules for RPG","position":{"start":{"line":28,"column":4,"offset":1888},"end":{"line":28,"column":24,"offset":1908},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1885},"end":{"line":28,"column":24,"offset":1908},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get started you can ","position":{"start":{"line":30,"column":1,"offset":1912},"end":{"line":30,"column":24,"offset":1935},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/tree/master/rpg-custom-rules","children":[{"type":"text","value":"browse","position":{"start":{"line":30,"column":25,"offset":1936},"end":{"line":30,"column":31,"offset":1942},"indent":[]}}],"position":{"start":{"line":30,"column":24,"offset":1935},"end":{"line":30,"column":121,"offset":2032},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":30,"column":121,"offset":2032},"end":{"line":30,"column":125,"offset":2036},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/archive/master.zip","children":[{"type":"text","value":"download","position":{"start":{"line":30,"column":126,"offset":2037},"end":{"line":30,"column":134,"offset":2045},"indent":[]}}],"position":{"start":{"line":30,"column":125,"offset":2036},"end":{"line":30,"column":214,"offset":2125},"indent":[]}},{"type":"text","value":" a simple plugin.","position":{"start":{"line":30,"column":214,"offset":2125},"end":{"line":30,"column":231,"offset":2142},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1912},"end":{"line":30,"column":231,"offset":2142},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Pre-requisites","position":{"start":{"line":32,"column":5,"offset":2150},"end":{"line":32,"column":19,"offset":2164},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2146},"end":{"line":32,"column":19,"offset":2164},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"JDK 8","position":{"start":{"line":34,"column":3,"offset":2170},"end":{"line":34,"column":8,"offset":2175},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":2170},"end":{"line":34,"column":8,"offset":2175},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2168},"end":{"line":34,"column":8,"offset":2175},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"SonarRPG 2.0+","position":{"start":{"line":35,"column":3,"offset":2179},"end":{"line":35,"column":16,"offset":2192},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":2179},"end":{"line":35,"column":16,"offset":2192},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2177},"end":{"line":35,"column":16,"offset":2192},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2168},"end":{"line":35,"column":16,"offset":2192},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Creating a Maven Project","position":{"start":{"line":37,"column":5,"offset":2200},"end":{"line":37,"column":29,"offset":2224},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2196},"end":{"line":37,"column":29,"offset":2224},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You should first create a Maven project: re-using the ","position":{"start":{"line":39,"column":1,"offset":2228},"end":{"line":39,"column":55,"offset":2282},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/blob/master/rpg-custom-rules/pom.xml","children":[{"type":"text","value":"pom.xml from the RPG example","position":{"start":{"line":39,"column":56,"offset":2283},"end":{"line":39,"column":84,"offset":2311},"indent":[]}}],"position":{"start":{"line":39,"column":55,"offset":2282},"end":{"line":39,"column":182,"offset":2409},"indent":[]}},{"type":"text","value":" is a good start.","position":{"start":{"line":39,"column":182,"offset":2409},"end":{"line":39,"column":199,"offset":2426},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2228},"end":{"line":39,"column":199,"offset":2426},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following dependencies need to be defined in the pom.xml:","position":{"start":{"line":41,"column":1,"offset":2430},"end":{"line":41,"column":62,"offset":2491},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2430},"end":{"line":41,"column":62,"offset":2491},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sonar-plugin-api","position":{"start":{"line":43,"column":3,"offset":2497},"end":{"line":43,"column":21,"offset":2515},"indent":[]}},{"type":"text","value":" to get access to SonarQube APIs","position":{"start":{"line":43,"column":21,"offset":2515},"end":{"line":43,"column":53,"offset":2547},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":2497},"end":{"line":43,"column":53,"offset":2547},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2495},"end":{"line":43,"column":53,"offset":2547},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sonar-rpg-plugin","position":{"start":{"line":44,"column":3,"offset":2551},"end":{"line":44,"column":21,"offset":2569},"indent":[]}},{"type":"text","value":" to use the APIs of the RPG plugin","position":{"start":{"line":44,"column":21,"offset":2569},"end":{"line":44,"column":55,"offset":2603},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":2551},"end":{"line":44,"column":55,"offset":2603},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":2549},"end":{"line":44,"column":55,"offset":2603},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2495},"end":{"line":44,"column":55,"offset":2603},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Writing a Custom Rule","position":{"start":{"line":46,"column":5,"offset":2611},"end":{"line":46,"column":26,"offset":2632},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2607},"end":{"line":46,"column":26,"offset":2632},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Each rule needs to be defined in a class which:","position":{"start":{"line":48,"column":1,"offset":2636},"end":{"line":48,"column":48,"offset":2683},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":2636},"end":{"line":48,"column":48,"offset":2683},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Implements ","position":{"start":{"line":50,"column":3,"offset":2689},"end":{"line":50,"column":14,"offset":2700},"indent":[]}},{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/rpg/apidocs/2.3/index.html?com/sonarsource/rpg/api/checks/Check.html","children":[{"type":"inlineCode","value":"com.sonarsource.rpg.api.checks.Check","position":{"start":{"line":50,"column":15,"offset":2701},"end":{"line":50,"column":53,"offset":2739},"indent":[]}}],"position":{"start":{"line":50,"column":14,"offset":2700},"end":{"line":50,"column":156,"offset":2842},"indent":[]}},{"type":"text","value":". Instead of implementing this interface directly, the class can also extend ","position":{"start":{"line":50,"column":156,"offset":2842},"end":{"line":50,"column":233,"offset":2919},"indent":[]}},{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/rpg/apidocs/2.3/index.html?com/sonarsource/rpg/api/checks/Check.html?com/sonarsource/rpg/api/checks/VisitorBasedCheck.html","children":[{"type":"inlineCode","value":"VisitorBasedCheck","position":{"start":{"line":50,"column":234,"offset":2920},"end":{"line":50,"column":253,"offset":2939},"indent":[]}}],"position":{"start":{"line":50,"column":233,"offset":2919},"end":{"line":50,"column":410,"offset":3096},"indent":[]}},{"type":"text","value":" which makes it easier to target some specific parts of the analyzed source code.","position":{"start":{"line":50,"column":410,"offset":3096},"end":{"line":50,"column":491,"offset":3177},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":2689},"end":{"line":50,"column":491,"offset":3177},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2687},"end":{"line":50,"column":491,"offset":3177},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Has an ","position":{"start":{"line":51,"column":3,"offset":3181},"end":{"line":51,"column":10,"offset":3188},"indent":[]}},{"type":"inlineCode","value":"org.sonar.check.Rule","position":{"start":{"line":51,"column":10,"offset":3188},"end":{"line":51,"column":32,"offset":3210},"indent":[]}},{"type":"text","value":" annotation to define the key of the rule.","position":{"start":{"line":51,"column":32,"offset":3210},"end":{"line":51,"column":74,"offset":3252},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":3181},"end":{"line":51,"column":74,"offset":3252},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":3179},"end":{"line":51,"column":74,"offset":3252},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2687},"end":{"line":51,"column":74,"offset":3252},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Navigating the Syntax Tree","position":{"start":{"line":53,"column":6,"offset":3261},"end":{"line":53,"column":32,"offset":3287},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":3256},"end":{"line":53,"column":32,"offset":3287},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The analyzed source code is represented as a tree structure. The top-most tree is an instance of ","position":{"start":{"line":55,"column":1,"offset":3291},"end":{"line":55,"column":98,"offset":3388},"indent":[]}},{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/rpg/apidocs/2.3/index.html?com/sonarsource/rpg/api/checks/Check.html?com/sonarsource/rpg/api/tree/ModuleTree.html","children":[{"type":"inlineCode","value":"ModuleTree","position":{"start":{"line":55,"column":99,"offset":3389},"end":{"line":55,"column":111,"offset":3401},"indent":[]}}],"position":{"start":{"line":55,"column":98,"offset":3388},"end":{"line":55,"column":259,"offset":3549},"indent":[]}},{"type":"text","value":" which has references to other trees. Some of the trees represent a group of RPG calculations (for example, an ","position":{"start":{"line":55,"column":259,"offset":3549},"end":{"line":55,"column":370,"offset":3660},"indent":[]}},{"type":"inlineCode","value":"IF","position":{"start":{"line":55,"column":370,"offset":3660},"end":{"line":55,"column":374,"offset":3664},"indent":[]}},{"type":"text","value":" group is represented as a tree which references the calculations which are executed when the condition is true), some others represent expressions such as ","position":{"start":{"line":55,"column":374,"offset":3664},"end":{"line":55,"column":530,"offset":3820},"indent":[]}},{"type":"inlineCode","value":"a + b","position":{"start":{"line":55,"column":530,"offset":3820},"end":{"line":55,"column":537,"offset":3827},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":55,"column":537,"offset":3827},"end":{"line":55,"column":538,"offset":3828},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":3291},"end":{"line":55,"column":538,"offset":3828},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The instance of ","position":{"start":{"line":57,"column":1,"offset":3832},"end":{"line":57,"column":17,"offset":3848},"indent":[]}},{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/rpg/apidocs/2.3/index.html?com/sonarsource/rpg/api/checks/Check.html?com/sonarsource/rpg/api/checks/CheckContext.html","children":[{"type":"inlineCode","value":"CheckContext","position":{"start":{"line":57,"column":18,"offset":3849},"end":{"line":57,"column":32,"offset":3863},"indent":[]}}],"position":{"start":{"line":57,"column":17,"offset":3848},"end":{"line":57,"column":184,"offset":4015},"indent":[]}},{"type":"text","value":" which is passed to the checks gives a reference to the ","position":{"start":{"line":57,"column":184,"offset":4015},"end":{"line":57,"column":240,"offset":4071},"indent":[]}},{"type":"inlineCode","value":"ModuleTree","position":{"start":{"line":57,"column":240,"offset":4071},"end":{"line":57,"column":252,"offset":4083},"indent":[]}},{"type":"text","value":" of the analyzed source code. The whole tree structure can be navigated from that object.","position":{"start":{"line":57,"column":252,"offset":4083},"end":{"line":57,"column":341,"offset":4172},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":3832},"end":{"line":57,"column":341,"offset":4172},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Most often, it's easier to extend ","position":{"start":{"line":59,"column":1,"offset":4176},"end":{"line":59,"column":35,"offset":4210},"indent":[]}},{"type":"inlineCode","value":"VisitorBasedCheck","position":{"start":{"line":59,"column":35,"offset":4210},"end":{"line":59,"column":54,"offset":4229},"indent":[]}},{"type":"text","value":" and to override one or more methods which name starts with visit, e.g. ","position":{"start":{"line":59,"column":54,"offset":4229},"end":{"line":59,"column":126,"offset":4301},"indent":[]}},{"type":"inlineCode","value":"visitIfGroup","position":{"start":{"line":59,"column":126,"offset":4301},"end":{"line":59,"column":140,"offset":4315},"indent":[]}},{"type":"text","value":". That way, it's possible to define what should be executed when visiting some specific kinds of trees.","position":{"start":{"line":59,"column":140,"offset":4315},"end":{"line":59,"column":243,"offset":4418},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":4176},"end":{"line":59,"column":243,"offset":4418},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Creating Issues","position":{"start":{"line":61,"column":6,"offset":4427},"end":{"line":61,"column":21,"offset":4442},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":4422},"end":{"line":61,"column":21,"offset":4442},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/rpg/apidocs/2.3/index.html?com/sonarsource/rpg/api/checks/Check.html?com/sonarsource/rpg/api/checks/CheckContext.html","children":[{"type":"inlineCode","value":"CheckContext","position":{"start":{"line":63,"column":2,"offset":4447},"end":{"line":63,"column":16,"offset":4461},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":4446},"end":{"line":63,"column":168,"offset":4613},"indent":[]}},{"type":"text","value":" provides methods to create issues either at file level or at line level.","position":{"start":{"line":63,"column":168,"offset":4613},"end":{"line":63,"column":241,"offset":4686},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":4446},"end":{"line":63,"column":241,"offset":4686},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Testing the Rule","position":{"start":{"line":65,"column":6,"offset":4695},"end":{"line":65,"column":22,"offset":4711},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":4690},"end":{"line":65,"column":22,"offset":4711},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It's possible to write unit tests for custom rules using ","position":{"start":{"line":67,"column":1,"offset":4715},"end":{"line":67,"column":58,"offset":4772},"indent":[]}},{"type":"inlineCode","value":"com.sonarsource.rpg.api.test.RpgCheckVerifier","position":{"start":{"line":67,"column":58,"offset":4772},"end":{"line":67,"column":105,"offset":4819},"indent":[]}},{"type":"text","value":". This utility class executes a custom rule against a given RPG test file. The RPG test file should contain comments denoting lines where issues should be expected:","position":{"start":{"line":67,"column":105,"offset":4819},"end":{"line":67,"column":269,"offset":4983},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":4715},"end":{"line":67,"column":269,"offset":4983},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"if the line ends with \"// Noncompliant\", ","position":{"start":{"line":69,"column":3,"offset":4989},"end":{"line":69,"column":44,"offset":5030},"indent":[]}},{"type":"inlineCode","value":"RpgCheckVerifier","position":{"start":{"line":69,"column":44,"offset":5030},"end":{"line":69,"column":62,"offset":5048},"indent":[]}},{"type":"text","value":" expects an issue on that line.","position":{"start":{"line":69,"column":62,"offset":5048},"end":{"line":69,"column":93,"offset":5079},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":4989},"end":{"line":69,"column":93,"offset":5079},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":4987},"end":{"line":69,"column":93,"offset":5079},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"if the line ends with \"// Noncompliant {{my message}}\", ","position":{"start":{"line":70,"column":3,"offset":5083},"end":{"line":70,"column":59,"offset":5139},"indent":[]}},{"type":"inlineCode","value":"RpgCheckVerifier","position":{"start":{"line":70,"column":59,"offset":5139},"end":{"line":70,"column":77,"offset":5157},"indent":[]}},{"type":"text","value":" expects an issue on that line and checks that the issue message is \"my message\".","position":{"start":{"line":70,"column":77,"offset":5157},"end":{"line":70,"column":158,"offset":5238},"indent":[]}}],"position":{"start":{"line":70,"column":3,"offset":5083},"end":{"line":70,"column":158,"offset":5238},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":5081},"end":{"line":70,"column":158,"offset":5238},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":4987},"end":{"line":70,"column":158,"offset":5238},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The example project contains an ","position":{"start":{"line":72,"column":1,"offset":5242},"end":{"line":72,"column":33,"offset":5274},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/blob/master/rpg-custom-rules/src/test/java/com/sonarsource/rpg/example/checks/DataStructureNamingConventionCheckTest.java","children":[{"type":"text","value":"example test class","position":{"start":{"line":72,"column":34,"offset":5275},"end":{"line":72,"column":52,"offset":5293},"indent":[]}}],"position":{"start":{"line":72,"column":33,"offset":5274},"end":{"line":72,"column":235,"offset":5476},"indent":[]}},{"type":"text","value":" and the ","position":{"start":{"line":72,"column":235,"offset":5476},"end":{"line":72,"column":244,"offset":5485},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/blob/master/rpg-custom-rules/src/test/resources/data-structure-name.rpg","children":[{"type":"text","value":"associated RPG file","position":{"start":{"line":72,"column":245,"offset":5486},"end":{"line":72,"column":264,"offset":5505},"indent":[]}}],"position":{"start":{"line":72,"column":244,"offset":5485},"end":{"line":72,"column":397,"offset":5638},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":72,"column":397,"offset":5638},"end":{"line":72,"column":398,"offset":5639},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":5242},"end":{"line":72,"column":398,"offset":5639},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rules Definition","position":{"start":{"line":74,"column":5,"offset":5647},"end":{"line":74,"column":21,"offset":5663},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":5643},"end":{"line":74,"column":21,"offset":5663},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"One class should extend ","position":{"start":{"line":76,"column":1,"offset":5667},"end":{"line":76,"column":25,"offset":5691},"indent":[]}},{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/rpg/apidocs/2.3/index.html?com/sonarsource/rpg/api/checks/Check.html?com/sonarsource/rpg/api/CustomRulesDefinition.html","children":[{"type":"inlineCode","value":"com.sonarsource.rpg.api.CustomRulesDefinition","position":{"start":{"line":76,"column":26,"offset":5692},"end":{"line":76,"column":73,"offset":5739},"indent":[]}}],"position":{"start":{"line":76,"column":25,"offset":5691},"end":{"line":76,"column":227,"offset":5893},"indent":[]}},{"type":"text","value":": it should list the classes of the custom rules and use the SonarQube API to define the metadata of these rules: name, HTML description, default severity...","position":{"start":{"line":76,"column":227,"offset":5893},"end":{"line":76,"column":384,"offset":6050},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":5667},"end":{"line":76,"column":384,"offset":6050},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Plugin Class","position":{"start":{"line":78,"column":5,"offset":6058},"end":{"line":78,"column":17,"offset":6070},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":6054},"end":{"line":78,"column":17,"offset":6070},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The entry point of the custom plugin is a class which lists SonarQube extensions. This list should contain the class created at the previous step.","position":{"start":{"line":80,"column":1,"offset":6074},"end":{"line":80,"column":147,"offset":6220},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":6074},"end":{"line":80,"column":147,"offset":6220},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Packaging the Custom Plugin","position":{"start":{"line":82,"column":5,"offset":6228},"end":{"line":82,"column":32,"offset":6255},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":6224},"end":{"line":82,"column":32,"offset":6255},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To package your custom plugin, the pom.xml should use ","position":{"start":{"line":84,"column":1,"offset":6259},"end":{"line":84,"column":55,"offset":6313},"indent":[]}},{"type":"inlineCode","value":"org.sonarsource.sonar-packaging-maven-plugin","position":{"start":{"line":84,"column":55,"offset":6313},"end":{"line":84,"column":101,"offset":6359},"indent":[]}},{"type":"text","value":", as described in the ","position":{"start":{"line":84,"column":101,"offset":6359},"end":{"line":84,"column":123,"offset":6381},"indent":[]}},{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/extend/developing-plugin/","children":[{"type":"text","value":"documentation explaining how to build a plugin","position":{"start":{"line":84,"column":124,"offset":6382},"end":{"line":84,"column":170,"offset":6428},"indent":[]}}],"position":{"start":{"line":84,"column":123,"offset":6381},"end":{"line":84,"column":199,"offset":6457},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":84,"column":199,"offset":6457},"end":{"line":84,"column":200,"offset":6458},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":6259},"end":{"line":84,"column":200,"offset":6458},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the configuration for ","position":{"start":{"line":86,"column":1,"offset":6462},"end":{"line":86,"column":26,"offset":6487},"indent":[]}},{"type":"inlineCode","value":"sonar-packaging-maven-plugin","position":{"start":{"line":86,"column":26,"offset":6487},"end":{"line":86,"column":56,"offset":6517},"indent":[]}},{"type":"text","value":", basePlugin should be set to \"rpg\".","position":{"start":{"line":86,"column":56,"offset":6517},"end":{"line":86,"column":92,"offset":6553},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":6462},"end":{"line":86,"column":92,"offset":6553},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Building the Maven project will produce a JAR file which can be deployed to a SonarQube server.","position":{"start":{"line":88,"column":1,"offset":6557},"end":{"line":88,"column":96,"offset":6652},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":6557},"end":{"line":88,"column":96,"offset":6652},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":89,"column":1,"offset":6654}}}}